{"version":3,"sources":["components/Auth/styles.js","components/Auth/Input.js","constants/actionTypes.js","api/index.js","components/Posts/Posts.js","actions/auth.js","components/Auth/Auth.js","components/Posts/styles.js","actions/posts.js","components/Profile/styles.js","components/Profile/Profile.js","components/Posts/Post/styles.js","components/Posts/Post/Comment/styles.js","components/Posts/Post/Comment/Comment.js","components/Posts/Post/Post.js","components/Posts/CreatePost/styles.js","components/Posts/CreatePost/Form/styles.js","components/Posts/CreatePost/Form/Form.js","components/Posts/CreatePost/CreatePost.js","styles.js","App.js","reducers/auth.js","reducers/posts.js","reducers/index.js","index.js"],"names":["makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","padding","root","margin","avatar","backgroundColor","palette","secondary","main","form","width","submit","googleButton","marginBottom","Input","name","handleChange","label","autoFocus","type","handleShowPassword","Grid","item","xs","sm","TextField","onChange","variant","required","fullWidth","InputProps","endAdornment","InputAdornment","position","IconButton","onClick","AUTH","LOGOUT","CREATE","FETCH_ALL","DELETE","UPDATE","COMMENT","START_LOADING","END_LOADING","API","axios","create","baseURL","interceptors","request","use","req","localStorage","getItem","headers","authorization","JSON","parse","token","socket","signin","formData","history","post","catch","error","alert","response","data","message","signup","fetchPostComment","id","get","createPost","newPost","deletePost","delete","likePost","patch","dispatch","a","api","result","password","push","console","log","Auth","isLoading","useSelector","state","auth","useState","isSignup","setIsSignup","classes","useStyles","email","confirmPassword","setFormData","showPassword","setShowPassword","useHistory","useDispatch","handleSubmit","e","preventDefault","target","value","style","placeItems","CircularProgress","color","Grow","in","Container","component","maxWidth","Paper","className","elevation","Avatar","Typography","onSubmit","container","Button","justifyContent","prevIsSignup","posts","notification","borderRadius","right","top","notificationMessage","borderRight","flex","closeNotification","getPosts","payload","clear","profile","positon","txt","Profile","user","handleLogout","post__top","post__topInfo","post__delete","cursor","h3__topInfo","fontSize","date","post__avatar","marginRight","body","post__image","background","previousImage","left","nextImage","icon","opacity","haveImage","fileOther","textDecoration","file","textAlign","post__options","borderTop","post__option","comments","commentsOuterContainer","commentsInnerContainer","form___comment","input__comment","border","resize","outline","list__comment","Comment","handleDelete","isLoadingComment","opened","setIsLoadingComment","comment","setComment","setComments","isUpdate","setIsUpdate","useEffect","on","newComment","handleComment","idPost","_id","emit","gutterBottom","length","map","c","i","split","disabled","placeholder","hidden","Post","setIsLoading","setOpened","isComment","setIsComment","isFake","setIsFake","lengthImage","setLengthImage","currentImage","setCurrentImage","postId","arrayImage","ContentImage","selectedFile","filter","includes","alt","src","base64","ContentFile","title","href","download","HaveLike","likes","find","like","handleLikePost","handleShowComment","creator","moment","createdAt","format","post__bottom","post__file","gridTemplateColumns","marginLeft","header__createPost","borderBottom","form___createPost","input__createPost","outlineWidth","options__createPost","option","modal","boxShadow","shadows","header","fontWeight","info","detail","input_text","image","prevImage","closeImage","prevFile","closeForm","filebase","totalSize","Form","setOpen","postData","setPostData","isMaxSize","setIsMaxSize","size","Number","handleCloseImage","nameFile","files","PrevImage","height","objectFit","PrevFile","autoComplete","noValidate","rows","cols","overflow","multiple","onDone","fontStyle","trim","CreatePost","open","readOnly","Modal","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","Posts","setUser","location","useLocation","decode","exp","Date","getTime","io","home","text","window","confirm","md","to","appBar","heading","App","AppBar","align","path","exact","authData","action","setItem","stringify","unshift","combineReducers","store","createStore","reducers","compose","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3115c5b0.chunk.js","sourcesContent":["import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(2),\r\n  },\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  googleButton: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n}));","import React from 'react';\r\nimport { TextField, Grid, InputAdornment, IconButton } from '@material-ui/core';\r\n\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\n\r\nconst Input = ({ name, handleChange, label, autoFocus, type, handleShowPassword }) => (\r\n  <Grid item xs={12} sm={12}>\r\n    <TextField\r\n      name={name}\r\n      onChange={handleChange}\r\n      variant=\"outlined\"\r\n      required\r\n      fullWidth\r\n      label={label}\r\n      autoFocus={autoFocus}\r\n      type={type}\r\n      InputProps={name === 'password' ? {\r\n        endAdornment: (\r\n          <InputAdornment position=\"end\">\r\n            <IconButton onClick={handleShowPassword}>\r\n              {type === 'password' ? <Visibility /> : <VisibilityOff />}\r\n            </IconButton>\r\n          </InputAdornment>\r\n        ),\r\n      } : null}\r\n    />\r\n  </Grid>\r\n);\r\n\r\nexport default Input;","export const AUTH = 'AUTH'\r\nexport const LOGOUT  = 'LOGOUT'\r\nexport const CREATE  = 'CREATE'\r\nexport const FETCH_ALL  = 'FETCH_ALL'\r\nexport const DELETE  = 'DELETE'\r\nexport const UPDATE  = 'UPDATE'\r\nexport const COMMENT = 'COMMENT'\r\nexport const START_LOADING = 'START_LOADING'\r\n\r\nexport const END_LOADING = 'END_LOADING'\r\n\r\n\r\n","import axios from 'axios'\r\n\r\nconst API = axios.create({baseURL:'https://thuc-tap-20203-1.herokuapp.com/' })\r\n// const API = axios.create({baseURL:'http://localhost:5000/' })\r\n\r\nAPI.interceptors.request.use(req => {\r\n    if(localStorage.getItem('profile')){\r\n        req.headers.authorization = `Bearer ${JSON.parse(localStorage.getItem('profile')).token}`\r\n    }\r\n    return req;\r\n})\r\n\r\n\r\nexport const signin = (formData, history) => API.post('/signin', formData).catch((error)=> alert(error.response.data.message))\r\nexport const signup = (formData, history) => API.post('/signup', formData).catch((error)=> alert(error.response.data.message))\r\nexport const fetchPosts = () => API.get('/posts');\r\nexport const fetchPostComment = (id) => API.get(`/posts/${id}`);\r\nexport const createPost = (newPost) => API.post('/posts', newPost);\r\nexport const deletePost = (id) => API.delete(`/posts/${id}`);\r\nexport const likePost = (id) => API.patch(`/posts/${id}/likePost`);\r\nexport const comment = (value, id) => API.post(`/posts/${id}/commentPost`, { value });","import React, { useState, useEffect } from 'react'\r\nimport { Container, Grow, Grid, CircularProgress } from '@material-ui/core'\r\nimport useStyles from './styles'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { LOGOUT } from '../../constants/actionTypes'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useLocation } from 'react-router'\r\nimport { getPosts } from '../../actions/posts'\r\nimport Profile from '../Profile/Profile'\r\nimport Post from './Post/Post'\r\nimport CreatePost from './CreatePost/CreatePost'\r\nimport decode from 'jwt-decode'\r\nimport io from 'socket.io-client'\r\nlet socket;\r\n\r\nconst Posts = () => {\r\n\r\n    const [user, setUser] = useState(JSON.parse(localStorage.getItem('profile')) ? JSON.parse(localStorage.getItem('profile')) : null)\r\n    const classes = useStyles()\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const location = useLocation()\r\n    const { posts, isLoading } = useSelector((state) => state.posts)\r\n\r\n    const ENDPOINT = 'https://thuc-tap-20203-1.herokuapp.com/'\r\n  \r\n\r\n    const handleLogout = () => {\r\n        dispatch({ type: LOGOUT })\r\n        history.push('/auth')\r\n    }\r\n    useEffect(() => {\r\n        dispatch(getPosts())\r\n    }, [dispatch])\r\n\r\n    useEffect(() => {\r\n        const token = user?.token;\r\n        if (token) {\r\n            const decodedToken = decode(token);\r\n            if (decodedToken.exp * 1000 < new Date().getTime()) return handleLogout();\r\n        }\r\n\r\n        setUser(JSON.parse(localStorage.getItem('profile')))\r\n        socket = io(ENDPOINT)\r\n\r\n        if (user) {\r\n            socket.emit('home', {}, ({ error, home }) => {\r\n                if (error) {\r\n                    alert(error)\r\n                }\r\n\r\n            })\r\n            socket.on('notification', ({ text }) => {\r\n                if (text) {\r\n                    console.log(text)\r\n                    \r\n                    let retVal = window.confirm(`${text}`);\r\n                    if( retVal === true ) {\r\n                        dispatch(getPosts())\r\n                     }\r\n    \r\n                }\r\n            })\r\n        }\r\n    }, [location])\r\n\r\n    return (\r\n        isLoading ? <div style={{ display: 'flex', padding: '5px', flexDirection: 'column', width: '100%', placeItems: 'center' }}><CircularProgress style={{ color: 'white' }} /></div>\r\n            :\r\n            <Grow in>\r\n                <Container component=\"main\" maxWidth=\"lg\" className={classes.posts}>\r\n                    {user ?\r\n                        <Grid container justifyContent=\"center\" alignItems=\"stretch\" spacing={3}>\r\n                            <Grid item sm={12} md={3}>\r\n                                <Profile user={user} handleLogout={handleLogout} />\r\n                            </Grid>\r\n                            <Grid item sm={12} md={8}>\r\n                                <CreatePost\r\n                                    user={user}\r\n                                   \r\n                                    socket={socket}\r\n                                />\r\n                                {posts.map((post) => (\r\n                                    <Post key={post._id} post={post} socket={socket} />\r\n                                ))}\r\n                            </Grid>\r\n                        </Grid>\r\n                        :\r\n                        <Redirect to=\"/auth\" />\r\n                    } \r\n                </Container>\r\n\r\n            </Grow>\r\n    )\r\n}\r\n\r\nexport default Posts","import {AUTH, START_LOADING, END_LOADING } from '../constants/actionTypes'\r\nimport * as api from '../api/index'\r\n\r\nexport const signin = (formData, history) => async (dispatch) => {\r\n    try {\r\n        dispatch({type: START_LOADING})\r\n        const {data} = await api.signin(formData, history)\r\n        \r\n        data.result.password = formData.password\r\n        dispatch({type: AUTH, data})\r\n        dispatch({type: END_LOADING})\r\n        history.push('/')\r\n    } catch (error) {\r\n        dispatch({type: END_LOADING})\r\n        console.log(error.message)\r\n    }\r\n}\r\n\r\nexport const signup = (formData, history) => async (dispatch) => {\r\n    try {\r\n        dispatch({type: START_LOADING})\r\n        const {data} = await api.signup(formData, history)\r\n        \r\n        data.result.password = formData.password\r\n        dispatch({type: AUTH, data})\r\n        dispatch({type: END_LOADING})\r\n        history.push('/')\r\n    } catch (error) {\r\n        dispatch({type: END_LOADING})\r\n        console.log(error.message)\r\n    }\r\n}","import React, { useState } from 'react'\r\nimport { Avatar, Button, Paper, Grid, Typography, Container, Grow,CircularProgress } from '@material-ui/core'\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\r\nimport useStyles from './styles'\r\nimport Input from './Input'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { signin, signup } from '../../actions/auth'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nconst Auth = () => {\r\n  const { isLoading } = useSelector(state => state.auth);\r\n  const [isSignup, setIsSignup] = useState(false);\r\n  const classes = useStyles();\r\n  const [formData, setFormData] = useState({\r\n    email: '', password: '', confirmPassword: ''\r\n  })\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  const history = useHistory()\r\n  const dispatch = useDispatch()\r\n\r\n  const handleShowPassword = () => setShowPassword(!showPassword);\r\n\r\n\r\n\r\n  const switchMode = () => {\r\n    setIsSignup((prevIsSignup) => !prevIsSignup);\r\n    setShowPassword(false);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      if (isSignup) {\r\n        dispatch(signup(formData, history));\r\n      } else {\r\n        dispatch(signin(formData, history));\r\n      }\r\n    } catch (error) {\r\n      history.push('/auth')\r\n    }\r\n\r\n\r\n  };\r\n\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value })\r\n  };\r\n\r\n  return (\r\n    isLoading ? <div style={{ display: 'flex', padding: '5px', flexDirection: 'column', width: '100%', placeItems: 'center' }}><CircularProgress style={{ color: 'white' }} /></div>\r\n      :\r\n      <Grow in>\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n          <Paper className={classes.paper} elevation={3}>\r\n            <Avatar className={classes.avatar}>\r\n              <LockOutlinedIcon />\r\n            </Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\">{isSignup ? 'Đăng ký' : 'Đăng nhập'}</Typography>\r\n            <form className={classes.form} onSubmit={handleSubmit}>\r\n              <Grid container spacing={2}>\r\n                <Input name=\"email\" label=\"Email Address\" handleChange={handleChange} type=\"email\" />\r\n                <Input name=\"password\" label=\"Password\" handleChange={handleChange} type={showPassword ? 'text' : 'password'} handleShowPassword={handleShowPassword} />\r\n                {isSignup && <Input name=\"confirmPassword\" label=\"Confirm Password\" handleChange={handleChange} type=\"password\" />}\r\n              </Grid>\r\n\r\n              <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit}>\r\n                {isSignup ? 'Đăng ký' : 'Đăng nhập'}\r\n              </Button>\r\n\r\n              <Grid container justifyContent=\"flex-end\">\r\n                <Grid item>\r\n                  <Button onClick={switchMode}>\r\n                    {isSignup ? 'Đã có tài khoản? Đăng nhập' : \"Chưa có tài khoản? Đăng ký\"}\r\n                  </Button>\r\n                </Grid>\r\n              </Grid>\r\n            </form>\r\n          </Paper>\r\n        </Container>\r\n      </Grow>\r\n  );\r\n}\r\n\r\nexport default Auth\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  posts: {\r\n    marginTop: '40px',\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(2),\r\n  },\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  notification: {\r\n    position: 'absolute || fixed',\r\n    padding: '20px',\r\n    borderRadius: '20px',\r\n    right: '10px',\r\n    top: '10px',\r\n    display: 'flex',\r\n  },\r\n  notificationMessage:{\r\n    borderRight: '1px solid gray',\r\n    flex: '1',\r\n    '&:hover': {\r\n      backgroundColor: 'gray',\r\n    }\r\n  },\r\n  \r\n  closeNotification:{\r\n    '&:hover': {\r\n      backgroundColor: 'gray',\r\n    }\r\n  }\r\n \r\n}));","import * as api from '../api/index'\r\nimport { FETCH_ALL, COMMENT, CREATE, DELETE, UPDATE, START_LOADING, END_LOADING } from '../constants/actionTypes'\r\n\r\n\r\nexport const getPosts = () => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: START_LOADING })\r\n        const { data } = await api.fetchPosts();\r\n\r\n        dispatch({ type: FETCH_ALL, payload: data })\r\n        dispatch({ type: END_LOADING })\r\n    } catch (error) {\r\n\r\n        console.log(error.response)\r\n        dispatch({ type: END_LOADING })\r\n\r\n    }\r\n\r\n}\r\n\r\nexport const createPost = (newPost) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.createPost(newPost);\r\n        dispatch({ type: CREATE, payload: data })\r\n    } catch (error) {\r\n        alert(`${error.response.data.message}`);\r\n        localStorage.clear()\r\n    }\r\n}\r\n\r\nexport const deletePost = (id) => async (dispatch) => {\r\n    try {\r\n        await api.deletePost(id);\r\n        dispatch({ type: DELETE, payload: id })\r\n    } catch (error) {\r\n        alert(`${error.response.data.message}`);\r\n        localStorage.clear()\r\n    }\r\n}\r\n\r\nexport const likePost = (id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.likePost(id);\r\n        dispatch({ type: UPDATE, payload: data })\r\n    } catch (error) {\r\n        alert('Bài viết không khả dụng')\r\n        dispatch(getPosts())\r\n    }\r\n}\r\n\r\nexport const commentPost = (value, id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.comment(value, id);\r\n\r\n        dispatch({ type: COMMENT, payload: data });\r\n\r\n        return data.comments;\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n};\r\n\r\nexport const loadPostComments = (id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.fetchPostComment(id);\r\n        console.log(data);\r\n        return data;\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n};","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n    profile: {\r\n        padding: '5px',\r\n        display: 'flex',\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\", \r\n        justifyContent: \"center\",\r\n        positon: 'fixed'\r\n    }, \r\n    txt: {\r\n        \r\n        \r\n        marginBottom: '5px'\r\n    }\r\n    \r\n}))","import React from 'react'\r\nimport { Paper, Button } from '@material-ui/core'\r\nimport useStyles from './styles'\r\nconst Profile = ({user, handleLogout}) => {\r\n    const classes = useStyles()\r\n\r\n    return (\r\n        <Paper style={{margin: '10px'}} className={classes.profile}>\r\n            <div className={classes.txt} >{`Email: ${user?.result?.email}`}</div>\r\n            <div className={classes.txt} >{`Mật khẩu: ${user?.result?.password}`}</div>\r\n            <Button onClick={handleLogout} color=\"secondary\" variant=\"contained\">\r\n                Đăng xuất\r\n            </Button>\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default Profile\r\n","import { makeStyles } from \"@material-ui/styles\";\r\n\r\nexport default makeStyles((theme)=> ({\r\n    post: {\r\n        width: '100%',\r\n        marginTop: '15px',\r\n        padding: '5px',\r\n    },\r\n    post__top:{\r\n        display: 'flex',\r\n        position: 'relative',\r\n        alignItems: 'center',\r\n        padding: '0 5px',\r\n    },\r\n    post__topInfo: {\r\n        display: 'flex',\r\n        flex: '1',\r\n        alignItems: 'flex-start',\r\n        flexDirection: 'column',\r\n    },\r\n    post__delete: {\r\n        '&:hover': {\r\n            borderRadius: '999px',\r\n            backgroundColor: 'lightwhite',\r\n            cursor: 'pointer'\r\n        }\r\n    },\r\n    h3__topInfo: {\r\n        fontSize: 'large',\r\n    },\r\n    date: {\r\n        fontSize: '0.9rem',\r\n        color: 'gray',\r\n    },\r\n    post__avatar: {\r\n        marginRight: '10px',\r\n    },\r\n    body: {\r\n        padding: '0 10px 5px 10px',\r\n    }\r\n    ,\r\n    post__image: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n       \r\n       position: 'relative',\r\n       background: 'whitesmoke',\r\n    }, \r\n\r\n    previousImage: {\r\n        position: 'absolute',\r\n        cursor: 'pointer',\r\n        top: '45%', \r\n        left: '0',\r\n        padding: '5px',\r\n        \r\n    },\r\n    nextImage: {\r\n        position: 'absolute',\r\n        cursor: 'pointer',\r\n        top: '45%', \r\n        right: '0',\r\n        padding: '5px',\r\n        \r\n    },\r\n    icon: {\r\n        \r\n        color: 'black', \r\n        opacity: '0.7'\r\n    },\r\n    \r\n    haveImage: {\r\n      \r\n        flex: '0.7',\r\n        width: '90%',\r\n    },\r\n    fileOther: {\r\n        textDecoration: 'none',\r\n        color: 'black',\r\n        margin: '5px',\r\n    },\r\n    file: {\r\n        backgroundColor: '#ADDCFF',\r\n        textAlign: 'center',\r\n        borderRadius: '10px',\r\n        padding: '2px',\r\n    },\r\n    post__options: {\r\n        borderTop: '1px solid lightgray',\r\n        display: 'flex',\r\n        justifyContent: 'space-evenly',\r\n        fontSize: 'medium',\r\n        color: 'gray',\r\n        cursor: 'pointer',\r\n        padding: '5px 5px 0 5px',\r\n    }, \r\n    post__option: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent:'center',\r\n        flex: '1',\r\n        '&:hover': {\r\n            backgroundColor: '#eff2f5',\r\n            borderRadius: '20px'\r\n        }\r\n    }, \r\n    comments: {\r\n        marginTop: '5px',\r\n        borderTop: '1px solid lightgray'\r\n    },\r\n    \r\n}))","import { makeStyles } from '@material-ui/core/styles'\r\n\r\nexport default makeStyles(theme => ({\r\n    commentsOuterContainer: {\r\n        padding: '5px',\r\n        display: 'flex',\r\n        alignItems: 'stretch',\r\n        flexDirection: 'column',\r\n    },\r\n    commentsInnerContainer: {\r\n        margin: '5px 0',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'flex-start',\r\n        \r\n    },\r\n    form___comment: {\r\n        display: 'flex',\r\n        borderRadius: '20px',\r\n    },\r\n    input__comment: {\r\n        flex: '1',\r\n        fontSize: 'medium',\r\n        padding: '10px',\r\n        border: 'none',\r\n        borderRadius: '15px',\r\n        backgroundColor: 'whitesmoke',\r\n        resize: 'none',\r\n        outline: 'none',\r\n    },\r\n    list__comment: {\r\n        padding: '5px 10px',\r\n        borderRadius: '15px',\r\n        backgroundColor: 'whitesmoke',\r\n    }\r\n}))","import React, { useState, useEffect } from 'react';\r\nimport { Typography, CircularProgress } from '@material-ui/core/';\r\n\r\n\r\n\r\nimport useStyles from './styles';\r\n\r\nconst Comment = ({ post, socket, handleDelete, opened,  isLoadingComment, setIsLoadingComment}) => {\r\n    const user = JSON.parse(localStorage.getItem('profile'));\r\n    const [comment, setComment] = useState('');\r\n   \r\n    const [comments, setComments] = useState(post?.comments);\r\n    const [isUpdate, setIsUpdate] = useState(false)\r\n    const classes = useStyles();\r\n\r\n    useEffect(() => {\r\n        socket.on('comment', async ({ newComment }) => {\r\n            await setComments([...comments, newComment])\r\n            post.comments = comments\r\n            post.comments.push(newComment)\r\n        })\r\n    }, [comments])\r\n\r\n  \r\n    \r\n\r\n    // no use socket\r\n    // const handleComment = async (e) => {\r\n    //     e.preventDefault()\r\n    //     setIsUpdate(true);\r\n    //     const newComments = await dispatch(commentPost(`${user?.result?.email}: ${comment}`, post._id));\r\n    //     setComment('');\r\n    //     setIsUpdate(false);\r\n    //     setComments(newComments);\r\n\r\n\r\n    // };\r\n\r\n    // use socket\r\n    const handleComment = async (e) => {\r\n        e.preventDefault()\r\n        setIsUpdate(true);\r\n\r\n        if (comment) {\r\n            const email = user?.result?.email\r\n            const idPost = post._id\r\n            socket.emit('send comment', ({ email, idPost, comment }), (error) => {\r\n                if (error) {\r\n                    alert(error)\r\n                    handleDelete()\r\n                }\r\n                setComment('')\r\n                setIsUpdate(false);\r\n            })\r\n        }\r\n\r\n\r\n    };\r\n\r\n\r\n    return (\r\n        <div >\r\n            <div className={classes.commentsOuterContainer} >\r\n\r\n                {!isLoadingComment ?\r\n                    <>\r\n                        <Typography gutterBottom variant=\"subtitle2\">{comments.length} lượt bình luận</Typography>\r\n                        <div className={classes.commentsInnerContainer} >\r\n                            {comments?.map((c, i) => (\r\n                                <Typography key={i} gutterBottom variant=\"subtitle2\" className={classes.list__comment}>\r\n                                    <strong>{c.split(': ')[0]}</strong>\r\n                                    {c.split(':')[1]}\r\n                                </Typography>\r\n                            ))\r\n                            }\r\n\r\n                        </div>\r\n                    </>\r\n                    :\r\n                    <div style={{ display: 'flex', padding: '5px', flexDirection: 'column', width: '100%', placeItems: 'center' }}><CircularProgress /></div>\r\n                }\r\n                <form className={classes.form___comment} onSubmit={handleComment}>\r\n                    <input\r\n                        disabled={isUpdate || isLoadingComment}\r\n                        className={classes.input__comment}\r\n                        value={comment}\r\n                        onChange={(e) => setComment(e.target.value)}\r\n                        name=\"comment\"\r\n                        type=\"text\" placeholder=\"Viết bình luận\"\r\n                    />\r\n                    <button type=\"submit\" hidden>Send</button>\r\n                    {isUpdate && <CircularProgress />}\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default Comment\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Avatar, Paper, CircularProgress } from '@material-ui/core'\r\nimport useStyles from './styles'\r\nimport ThumbUpAltOutlinedIcon from '@material-ui/icons/ThumbUpAltOutlined';\r\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\r\nimport ChatBubbleOutlineOutlinedIcon from '@material-ui/icons/ChatBubbleOutlineOutlined';\r\nimport ShareOutlinedIcon from '@material-ui/icons/ShareOutlined';\r\nimport moment from 'moment'\r\nimport { useDispatch } from 'react-redux'\r\nimport { deletePost, likePost } from '../../../actions/posts';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\r\nimport Comment from './Comment/Comment'\r\nimport { fetchPostComment } from '../../../api/index'\r\n\r\nconst Post = ({ post, socket }) => {\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [opened, setOpened] = useState(false)\r\n    const [isComment, setIsComment] = useState(false)\r\n    const [isLoadingComment, setIsLoadingComment] = useState(false)\r\n    const [isUpdate, setIsUpdate] = useState(false)\r\n    const [isFake, setIsFake] = useState(false)\r\n    const classes = useStyles()\r\n    const dispatch = useDispatch()\r\n    const user = JSON.parse(localStorage.getItem('profile'))\r\n    const [lengthImage, setLengthImage] = useState(0)\r\n    const [currentImage, setCurrentImage] = useState(0)\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        if (isComment) {\r\n            const postId = post._id;\r\n            socket.emit('join', { postId, user }, ({ error, post }) => {\r\n                if (error) {\r\n                    alert(error)\r\n                }\r\n\r\n\r\n            })\r\n        }\r\n    }, [isComment])\r\n\r\n    let arrayImage = []\r\n    const handleDelete = async () => {\r\n        try {\r\n            setIsLoading(true)\r\n            await dispatch(deletePost(post._id))\r\n            setIsLoading(false)\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    const ContentImage = () => {\r\n\r\n        if (post.selectedFile.length > 0) {\r\n            arrayImage = post.selectedFile.filter(function (file) {\r\n                return file.type.includes(\"image\");\r\n            })\r\n            setLengthImage(arrayImage.length)\r\n            if (arrayImage.length > 0)\r\n                return <img alt='' className={classes.haveImage} src={arrayImage[currentImage]?.base64} />\r\n        }\r\n        return false;\r\n    }\r\n    const ContentFile = () => {\r\n\r\n        if (post.selectedFile.length > 0) {\r\n            return <>\r\n                {post.selectedFile.map(file => {\r\n                    if (!file.type.includes(\"image\")) {\r\n                        return <a key={file.name} className={classes.fileOther} title={file.name} href={file.base64} download>\r\n                            <div key={file.name} className={classes.file}>{file.name}</div>\r\n                        </a>\r\n                    }\r\n                })}\r\n            </>\r\n        }\r\n        return false;\r\n    }\r\n\r\n    const changePrevImage = () => {\r\n        if (currentImage === 0) {\r\n            setCurrentImage(arrayImage.length - 1)\r\n        } else {\r\n            setCurrentImage(currentImage - 1)\r\n        }\r\n    }\r\n    const changeNextImage = () => {\r\n        if (currentImage === arrayImage.length - 1) {\r\n            setCurrentImage(0)\r\n        } else {\r\n            setCurrentImage(currentImage + 1)\r\n        }\r\n    }\r\n    // no socket\r\n    const HaveLike = () => {\r\n        if (post.likes.length > 0) {\r\n            return post.likes.find(like => like === user?.result?._id)\r\n                ? (\r\n                    <><ThumbUpAltIcon style={{ color: 'blue' }} /></>\r\n                ) : (\r\n                    <><ThumbUpAltOutlinedIcon /></>\r\n                )\r\n        }\r\n        return <><ThumbUpAltOutlinedIcon /></>\r\n    }\r\n    const handleLikePost = async () => {\r\n        try {\r\n            setIsUpdate(true)\r\n            await dispatch(likePost(post._id))\r\n\r\n        } catch (error) {\r\n\r\n        } finally {\r\n            setIsUpdate(false)\r\n        }\r\n    }\r\n\r\n    // socket\r\n    // const HaveLike = () => {\r\n    //     if (post.likes.length > 0) {\r\n    //         return post.likes.find(like => like === user?.result?._id)\r\n    //             ? (\r\n    //                 <><ThumbUpAltIcon style={{ color: 'blue' }} /></>\r\n    //             ) : (\r\n    //                 <><ThumbUpAltOutlinedIcon /></>\r\n    //             )\r\n    //     }\r\n    //     return <><ThumbUpAltOutlinedIcon /></>\r\n    // }\r\n    // const handleLikePost = () => {\r\n    //     console.log('vao')\r\n    //     setIsUpdate(true)\r\n    //     socket.emit('join', { post, user }, ({ error, post }) => {\r\n    //         if (error) {\r\n    //             alert(error)\r\n    //         }\r\n\r\n    //         if (post) {\r\n    //             console.log(post)\r\n    //         }\r\n    //     })\r\n\r\n    //     socket.emit('send like', ({ user, post }), (error) => {\r\n    //         if (error) {\r\n    //             alert(error)\r\n    //         }\r\n    //         setIsUpdate(false)\r\n    //     })\r\n    // }\r\n\r\n\r\n    const handleShowComment =  async () => {\r\n        \r\n        if (!opened) {\r\n            setIsFake(true)\r\n            try {\r\n                setIsLoadingComment(true)\r\n                let {data} = await fetchPostComment(post._id)\r\n                console.log(data)\r\n                \r\n                if(data) {\r\n                    post.comments = data;\r\n                    console.log(\"...\");\r\n                    setOpened(true)\r\n                   \r\n                    \r\n                    setIsLoadingComment(false)\r\n                }\r\n            } catch (error) {\r\n                console.log(error)\r\n               \r\n                setIsLoadingComment(false)      \r\n            }\r\n            setIsFake(false)\r\n        }\r\n        \r\n        setIsComment(!isComment)\r\n\r\n    };\r\n    return (\r\n        <>\r\n            <Paper key={post._id} className={classes.post}>\r\n                <div className={classes.post__top}>\r\n                    <Avatar className={classes.post__avatar}>{post.creator[0]}</Avatar>\r\n                    <div className={classes.post__topInfo}>\r\n                        <div className={classes.h3__topInfo}>{post.creator}</div>\r\n                        <div className={classes.date}>{moment(post.createdAt).format('L')}</div>\r\n                    </div>\r\n                    {user?.result?.email === post.creator &&\r\n                        <div className={classes.post__delete} onClick={handleDelete}>\r\n                            <DeleteIcon />\r\n                        </div>\r\n                    }\r\n                </div>\r\n                {\r\n                    isLoading ? <div style={{ display: 'flex', padding: '5px', flexDirection: 'column', width: '100%', placeItems: 'center' }}><CircularProgress />Đang xóa</div>\r\n                        :\r\n                        <>\r\n                            <div className={classes.body}>\r\n                                <div className={classes.post__bottom}>\r\n                                    <p>{post.message}</p>\r\n                                </div>\r\n\r\n                                <div className={classes.post__image} >\r\n                                    {post.selectedFile && <ContentImage />}\r\n                                    {lengthImage > 1 &&\r\n                                        <>\r\n                                            <div onClick={changePrevImage} className={classes.previousImage}>\r\n\r\n                                                <ArrowBackIosIcon className={classes.icon} />\r\n                                            </div>\r\n                                            <div onClick={changeNextImage} className={classes.nextImage}>\r\n\r\n                                                <ArrowForwardIosIcon className={classes.icon} />\r\n                                            </div>\r\n                                        </>\r\n                                    }\r\n                                </div>\r\n\r\n                                <div className={classes.post__file} style={{ display: 'grid', gridTemplateColumns: '1fr 1fr' }}>\r\n                                    {post.selectedFile && <ContentFile />}\r\n                                </div>\r\n                            </div>\r\n                            <div className={classes.post__options}>\r\n\r\n\r\n                                {isUpdate ? <div className={classes.post__option}><CircularProgress /></div>\r\n                                    :\r\n                                    <>\r\n                                        <div className={classes.post__option} onClick={handleLikePost}>\r\n                                            <HaveLike />\r\n                                            <p style={{ marginLeft: '10px' }}>{post.likes.length} Thích</p>\r\n                                        </div>\r\n                                    </>\r\n                                }\r\n\r\n                                <div className={classes.post__option} onClick={handleShowComment}>\r\n                                    <ChatBubbleOutlineOutlinedIcon />\r\n                                    <p style={{ marginLeft: '10px' }}>Bình luận</p>\r\n                                </div>\r\n                                <div className={classes.post__option}>\r\n                                    <ShareOutlinedIcon />\r\n                                    <p style={{ marginLeft: '10px' }}>Chia sẻ</p>\r\n                                </div>\r\n                            </div>\r\n                            {isFake &&\r\n                                <div style={{ display: 'flex', padding: '5px', flexDirection: 'column', width: '100%', placeItems: 'center' }}><CircularProgress /></div>\r\n                            }\r\n                            {isComment &&\r\n                                <div className={classes.comments}>\r\n                                    <Comment post={post} setIsLoadingComment={setIsLoadingComment} opened={opened} isLoadingComment={isLoadingComment} socket={socket} handleDelete={handleDelete} />\r\n                                </div>\r\n                            }\r\n\r\n                        </>\r\n                }\r\n\r\n            </Paper>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Post","import { makeStyles } from '@material-ui/core/styles'\r\n\r\nexport default makeStyles((theme) => ({\r\n    createPost: {\r\n        padding: '5px',\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        width: '100%'\r\n    },\r\n    header__createPost: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        borderBottom: '1px solid #eff2f5',\r\n        padding: '5px',\r\n        alignItems: 'center'\r\n    },\r\n    form___createPost: {\r\n        flex: '1',\r\n        display: 'flex',\r\n\r\n    },\r\n    input__createPost: {\r\n        outlineWidth: '0',\r\n        border: 'none',\r\n        padding: '10px 20px',\r\n        margin: '0 10px',\r\n        borderRadius: '999px',\r\n        backgroundColor: '#eff2f5',\r\n        flex: '1',\r\n        fontSize: '1.05rem'\r\n    },\r\n    options__createPost: {\r\n        display: 'flex',\r\n        justifyContent: 'space-evenly',\r\n    },\r\n    option: {\r\n        padding: '5px',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        flex: '0.33',\r\n        color: 'gray',\r\n        cursor: 'pointer',\r\n        '&:hover': {\r\n            backgroundColor: '#eff2f5',\r\n            borderRadius: '20px'\r\n        }\r\n    },\r\n    modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        borderRadius: '10px',\r\n        boxShadow: theme.shadows[5],\r\n        \r\n    },\r\n}))","import {makeStyles } from '@material-ui/core/styles'\r\n\r\nexport default makeStyles(theme => ({\r\n    form: {\r\n        padding: '5px',\r\n        display: 'flex', \r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        position: 'relative',\r\n    },\r\n    header: {\r\n        maxWidth: '100%',\r\n        fontSize: 'medium',\r\n        fontWeight: 'bold',\r\n        padding: '5px 0',\r\n        textAlign: 'center',\r\n        borderBottom: '1px solid gray',\r\n        display: 'block',\r\n    },\r\n    body: {\r\n        padding: '5px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        \r\n    },\r\n    top: {\r\n        display: 'flex',\r\n        flexDirection: 'flex-start',\r\n        padding: '5px 0'\r\n    }, \r\n    avatar: {\r\n        marginRight: '5px',\r\n        \r\n    }, \r\n    info: {\r\n\r\n    }, \r\n    detail: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        \r\n    },\r\n    input_text: {\r\n        padding: '10px',\r\n        fontSize: '1.05rem',\r\n        \r\n        border: 'none',\r\n        backgroundColor: 'whitesmoke',\r\n        resize: 'none',\r\n        outline: 'none',\r\n    },\r\n\r\n    image: {\r\n        display: 'flex', \r\n        flexDirection: 'column',\r\n        \r\n    }, \r\n    submit: {\r\n      \r\n        margin: '5px'\r\n    },\r\n    prevImage: {\r\n        position: 'relative',\r\n    },\r\n    closeImage: {\r\n        position: 'absolute',\r\n        fontSize: 'large',\r\n        color: 'blue',\r\n        backgroundColor: 'white',\r\n        right: '10px',\r\n        top: '5px',\r\n        borderRadius: '50%',\r\n        cursor: 'pointer'\r\n    },\r\n    prevFile: {\r\n        backgroundColor: '#ADDCFF',\r\n        position: 'relative', \r\n        padding: '5px 35px 5px 10px',\r\n        borderRadius: '20px',\r\n        margin:'5px 5px 5px 0'\r\n    }, \r\n    closeForm: {\r\n        position: 'absolute',\r\n        padding: '0 5px',\r\n        right: '0px',\r\n        cursor: 'pointer',\r\n    }, \r\n    paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        borderRadius: '10px',\r\n        boxShadow: theme.shadows[5],\r\n        \r\n    },\r\n    filebase: {\r\n        color: 'blue',\r\n    }\r\n    \r\n}))","import React, { useState, useEffect } from 'react'\r\nimport useStyles from './styles'\r\nimport { Avatar, Button, CircularProgress } from \"@material-ui/core\"\r\nimport FileBase from 'react-file-base64'\r\n// import ImageIcon from '@material-ui/icons/Image';\r\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\r\nimport HighlightOffTwoToneIcon from '@material-ui/icons/HighlightOffTwoTone';\r\nimport { useDispatch } from 'react-redux'\r\nimport { createPost } from '../../../../actions/posts'\r\n\r\nconst MAX_SIZE = 1 * 1000;\r\nlet totalSize = 0;\r\n\r\nconst Form = ({ user, setOpen,  socket }) => {\r\n\r\n    const [postData, setPostData] = useState({\r\n        message: '',\r\n        creator: user?.result?.email,\r\n        selectedFile: []\r\n    })\r\n    const [isMaxSize, setIsMaxSize] = useState(false)\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const dispatch = useDispatch();\r\n    const classes = useStyles()\r\n\r\n    const handleFile = (files) => setPostData({ ...postData, selectedFile: files })\r\n\r\n    useEffect(() => {\r\n\r\n        postData.selectedFile.map(file => {\r\n            if (file.size.split(' ')[1] === 'kB')\r\n                totalSize += Number(file.size.split(' ')[0])\r\n            else\r\n                totalSize += 1024 * Number(file.size.split(' ')[0])\r\n\r\n        })\r\n        if (totalSize > MAX_SIZE)\r\n            setIsMaxSize(true)\r\n        else setIsMaxSize(false)\r\n        totalSize = 0;\r\n    }, [postData.selectedFile])\r\n\r\n    const handleCloseImage = (nameFile) => {\r\n        const files = postData.selectedFile.filter(file => file.name !== nameFile)\r\n        setPostData({ ...postData, selectedFile: files })\r\n\r\n    }\r\n\r\n    const PrevImage = () => {\r\n        return (\r\n            postData.selectedFile.map(file => {\r\n                if (file.type.includes(\"image\")) {\r\n                    return <div key={file.name} className={classes.prevImage}>\r\n                        <img src={file.base64} style={{ height: '100px', marginRight: '5px', objectFit: 'contain' }} alt='' />\r\n                        <HighlightOffTwoToneIcon className={classes.closeImage} onClick={() => handleCloseImage(file.name)} />\r\n                    </div>\r\n                }\r\n            })\r\n        )\r\n    }\r\n    const PrevFile = () => {\r\n        return (\r\n            postData.selectedFile.map(file => {\r\n                if (!file.type.includes(\"image\")) {\r\n                    return <div key={file.name} className={classes.prevFile}>\r\n\r\n                        {file.name}\r\n                        <HighlightOffTwoToneIcon className={classes.closeImage} onClick={() => handleCloseImage(file.name)} />\r\n                    </div>\r\n                }\r\n            })\r\n        )\r\n    }\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n        console.log(postData)\r\n        // console.log(Content());\r\n        try {\r\n            setIsLoading(true)\r\n            await dispatch(createPost(postData))\r\n            setOpen(false)\r\n\r\n            setIsLoading(false)\r\n            const email = user?.result?.email\r\n            socket.emit('newPost', {email}, ()=> {\r\n                \r\n            })\r\n\r\n            \r\n        } catch (error) {\r\n            setOpen(false)\r\n            setIsLoading(false)\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            {\r\n                isLoading\r\n                    ? <div style={{ display: 'flex', placeItems: 'center' }}><CircularProgress /></div>\r\n                    :\r\n                    <div className={classes.paper}>\r\n                        <form autoComplete=\"off\" noValidate className={classes.form} onSubmit={handleSubmit}>\r\n                            <div className={classes.header}>\r\n                                Tạo bài viết\r\n                            </div>\r\n                            <div className={classes.body}>\r\n                                <div className={classes.top}>\r\n                                    <Avatar className={classes.avatar}>{user?.result?.email[0]}</Avatar>\r\n                                    <div className={classes.info}>\r\n                                        <div style={{ fontWeight: 'bold' }}>{user?.result?.email}</div>\r\n                                        <div className={classes.detail}>\r\n                                            <SupervisorAccountIcon style={{ fontSize: 'medium' }} />\r\n                                            <div style={{ marginLeft: '5px', fontSize: '0.9rem', color: 'gray' }}>Bạn bè</div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className={classes.main}>\r\n                                    <textarea\r\n                                        onChange={(e) => setPostData({ ...postData, message: e.target.value })}\r\n                                        value={postData.message}\r\n                                        name=\"message\"\r\n                                        rows=\"4\"\r\n                                        cols=\"50\"\r\n                                        className={classes.input_text}\r\n                                        placeholder=\"Bạn đang nghĩ gì thế?\"\r\n                                    />\r\n\r\n                                    <div className={classes.image} >\r\n                                        <div style={{ display: 'flex', overflow: 'auto', width: '485px' }}>\r\n                                            <PrevImage />\r\n                                        </div>\r\n                                        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', width: '485px' }}>\r\n                                            <PrevFile />\r\n                                        </div>\r\n                                        {\r\n                                            !postData.selectedFile.length &&\r\n                                            <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                                                <div style={{ fontSize: 'medium' }}>Thêm tệp</div>\r\n                                                <FileBase\r\n                                                    className={classes.filebase}\r\n                                                    name=\"selectedFile\"\r\n                                                    type=\"file\"\r\n                                                    multiple={true}\r\n                                                    onDone={handleFile}\r\n\r\n                                                />\r\n                                            </div>\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            {isMaxSize && <div style={{ color: 'red',fontStyle: 'italic', margin: '5px' }}>Vượt quá kích thước cho phép</div>}\r\n\r\n                            <Button disabled={(postData.message.trim() === '' && postData.selectedFile.length === 0) || isMaxSize} type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit}>\r\n                                Đăng\r\n                            </Button>\r\n\r\n                            <HighlightOffTwoToneIcon className={classes.closeForm} onClick={() => setOpen(false)} />\r\n\r\n                        </form>\r\n                    </div>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Form","import { Avatar, Paper } from '@material-ui/core'\r\nimport React, { useState } from 'react'\r\nimport useStyles from './styles'\r\nimport VideocamIcon from '@material-ui/icons/Videocam';\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport EmojiEmotionsOutlinedIcon from '@material-ui/icons/EmojiEmotionsOutlined';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport Form from './Form/Form'\r\n\r\nconst CreatePost = ({ user, socket }) => {\r\n    const [open, setOpen] = useState(false);\r\n    \r\n\r\n    const classes = useStyles()\r\n\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <Paper className={classes.createPost}>\r\n\r\n            <div className={classes.header__createPost}>\r\n                <Avatar>{user?.result?.email[0]}</Avatar>\r\n                <form className={classes.form___createPost}>\r\n                    <input \r\n                        readOnly \r\n                        onClick={handleOpen} \r\n                        className={classes.input__createPost} \r\n                        type=\"text\" placeholder=\"Bạn đang nghĩ gì?\" \r\n                    />\r\n                </form>\r\n            </div>\r\n            <div className={classes.options__createPost}>\r\n                <div className={classes.option}>\r\n                    <VideocamIcon style={{ color: 'red' }} />\r\n                    <h3 style={{ fontSize: 'medium', marginLeft: '10px' }}>Video trực tiếp</h3>\r\n                </div>\r\n                <div className={classes.option}>\r\n                    <ImageIcon style={{ color: 'green' }} />\r\n                    <h3 style={{ fontSize: 'medium', marginLeft: '10px' }}>Ảnh/Video</h3>\r\n                </div>\r\n                <div className={classes.option}>\r\n                    <EmojiEmotionsOutlinedIcon style={{ color: 'orange' }} />\r\n                    <h3 style={{ fontSize: 'medium', marginLeft: '10px' }}>Cảm xúc/Hoạt động</h3>\r\n                </div>\r\n\r\n            </div>\r\n            <Modal\r\n                aria-labelledby=\"transition-modal-title\"\r\n                aria-describedby=\"transition-modal-description\"\r\n                className={classes.modal}\r\n                open={open}\r\n                \r\n                closeAfterTransition\r\n                BackdropComponent={Backdrop}\r\n                BackdropProps={{\r\n                    timeout: 500,\r\n                }}\r\n            >\r\n                <Fade in={open}>\r\n                    <Form user={user} setOpen={setOpen} socket={socket}/>\r\n                </Fade>\r\n            </Modal>\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default CreatePost\r\n","import { makeStyles } from \"@material-ui/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n    appBar: {\r\n        display: 'flex',\r\n        borderRadius: 15,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        flexDirection: 'row'\r\n    }, \r\n    heading: {\r\n        color: 'rgba(0, 183, 255,1)',\r\n    },\r\n}))","import React from 'react'\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\r\nimport { AppBar, Container, Typography } from '@material-ui/core'\r\nimport Auth from './components/Auth/Auth'\r\nimport Posts from './components/Posts/Posts'\r\nimport useStyles from './styles';\r\nconst App = () => {\r\n    \r\n\r\n    const classes = useStyles();\r\n    return (\r\n        <BrowserRouter>\r\n            <Container maxWidth=\"lg\">\r\n                <AppBar className={classes.appBar} position=\"static\" color=\"inherit\">\r\n                    <Typography variant=\"h2\" align=\"center\">Bài đăng</Typography>\r\n                </AppBar>\r\n                <Switch>\r\n                    <Route path='/' exact component={Posts} />\r\n                    <Route path='/auth' exact component={Auth} />\r\n                </Switch>\r\n            </Container>\r\n        </BrowserRouter>\r\n    )\r\n}\r\nexport default App;\r\n","import {AUTH, LOGOUT, START_LOADING, END_LOADING } from '../constants/actionTypes'\r\n\r\nconst auth =  (state = {authData: null, isLoading: true}, action) => {\r\n    switch (action.type) {\r\n        case START_LOADING: \r\n            return {...state, isLoading: true}\r\n        case END_LOADING: \r\n            return {...state, isLoading: false}\r\n        case AUTH:\r\n            localStorage.setItem('profile', JSON.stringify({...action?.data}))\r\n\r\n            return {...state, authData: null};\r\n        case LOGOUT: \r\n            localStorage.clear();\r\n            \r\n            return {...state, authData: null};\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\nexport default auth","import {START_LOADING, END_LOADING, COMMENT, FETCH_ALL, CREATE, DELETE, UPDATE } from '../constants/actionTypes'\r\n\r\nconst posts = (state = {isLoading: false, posts: []}, action) => {\r\n    switch (action.type) {\r\n        case START_LOADING: \r\n            return {...state, isLoading: true}\r\n        case END_LOADING: \r\n            return {...state, isLoading: false}\r\n        case FETCH_ALL:\r\n            return {...state, posts: action.payload};\r\n        case CREATE:\r\n            state.posts.unshift(action.payload) \r\n            return {...state};\r\n        case COMMENT:\r\n            return {...state, posts: state.posts.map(post => post._id === action.payload._id ? action.payload : post)};\r\n        case UPDATE:\r\n            return {...state, posts: state.posts.map(post => post._id === action.payload._id ? action.payload : post)};\r\n        case DELETE:\r\n            return {...state, posts: state.posts.filter(post => post._id !== action.payload)};\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default posts","import { combineReducers } from \"redux\";\r\nimport auth from './auth'\r\nimport posts from './posts'\r\nexport default combineReducers({\r\n    auth, posts\r\n})","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport { createStore, applyMiddleware, compose } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport App from './App'\r\n\r\nimport reducers from './reducers'\r\n\r\nconst store = createStore(reducers, compose(applyMiddleware(thunk)))\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById('root')\r\n)"],"sourceRoot":""}