{"version":3,"sources":["components/Auth/styles.js","components/Auth/Input.js","constants/actionTypes.js","api/index.js","actions/auth.js","components/Auth/Auth.js","components/Posts/styles.js","actions/posts.js","components/Profile/styles.js","components/Profile/Profile.js","components/Posts/Post/styles.js","components/Posts/Post/Comment/styles.js","components/Posts/Post/OneRootComment/styles.js","components/Posts/Post/OneRootComment/OneRootComment.js","components/Posts/Post/Comment/Comment.js","components/Posts/Post/Post.js","components/Posts/CreatePost/styles.js","components/Posts/CreatePost/Form/styles.js","components/Posts/CreatePost/Form/Form.js","components/Posts/CreatePost/CreatePost.js","components/CustomizedSnackbar/styles.js","components/CustomizedSnackbar/CustomizedSnackbar.js","assets/bell.gif","components/CustomizedNotification/styles.js","components/CustomizedNotification/Notification/styles.js","components/CustomizedNotification/Notification/Notification.js","components/CustomizedNotification/CustomizedNotification.js","components/CustomizedDeletedPost/styles.js","components/Posts/Posts.js","components/CustomizedDeletedPost/CustomizedDeletedPost.js","styles.js","App.js","reducers/auth.js","reducers/posts.js","reducers/index.js","index.js"],"names":["makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","padding","root","margin","avatar","backgroundColor","palette","secondary","main","form","width","submit","googleButton","marginBottom","Input","name","handleChange","label","autoFocus","type","handleShowPassword","Grid","item","xs","sm","TextField","onChange","variant","required","fullWidth","InputProps","endAdornment","InputAdornment","position","IconButton","onClick","AUTH","LOGOUT","CREATE","FETCH_ALL","DELETE","UPDATE","COMMENT","START_LOADING","NEW_POST","END_LOADING","NOTIFICATION","CHILD_CLICKED","CLEAN_NOTIFICATION","DELETE_NOTIFICATION","IS_COMMENT","SHOW_COMMENT","UPDATE_CMT","DELETED_POST","API","axios","create","baseURL","interceptors","request","use","req","localStorage","getItem","headers","authorization","JSON","parse","token","signin","formData","history","post","catch","error","alert","response","data","message","signup","fetchPostComment","id","get","fetchSubComments","idPost","idComment","createPost","newPost","deletePost","delete","likePost","patch","dispatch","a","api","result","password","push","console","log","Auth","isLoading","useSelector","state","auth","useState","isSignup","setIsSignup","classes","useStyles","email","confirmPassword","setFormData","showPassword","setShowPassword","useHistory","useDispatch","handleSubmit","e","preventDefault","target","value","style","placeItems","CircularProgress","color","Grow","in","Container","component","maxWidth","Paper","className","elevation","Avatar","Typography","onSubmit","container","Button","justifyContent","prevIsSignup","posts","content","lengCmt","payload","clear","indexPost","postLeng","profile","positon","txt","options","icon","background","borderRadius","cursor","notifi","Profile","user","handleLogout","root_profile","animation","opacity","transform","post__top","post__topInfo","flex","post__delete","h3__topInfo","fontSize","date","post__avatar","marginRight","body","post__image","previousImage","top","left","nextImage","right","haveImage","fileOther","textDecoration","file","textAlign","post__options","borderTop","post__option","comments","post__bottom","wordWrap","verticalAlign","commentsOuterContainer","commentsInnerContainer","form___comment","input__comment","border","resize","outline","list__comment","emoji","emojiSub","OneRootComment","c","subCommentToSocket","setNewSubCmtToSocket","setSubCommentToSocket","i","socket","isShowSubComments","totalSubcomments","setTotalSubcomments","setIsShowSubComments","isIsSendSub","setIsSendSub","subComment","setSubComment","subComments","setSubComments","useEffect","String","_id","prevCommentId","index","totalSubcomment","haveComment","length","emit","idSubCmt","handleReply","prevId","dataCmtPrev","split","idCmtPrev","indexOfSubCmt","gap","map","sC","ReactEmoji","emojify","disabled","cleanOnEnter","onEnter","placeholder","hidden","Comment","showSubCmt","handleShowComment","handleDelete","setComments","isLoadingComment","opened","setIsLoadingComment","comment","setComment","openedSubCmt","setOpenedSubCmt","isUpdate","setIsUpdate","tmp","Array","fill","forEach","el","showSubComment","getSubComments","handleComment","iSSC","rs","totalSubCmt","gutterBottom","Post","newSubCmtToSocket","setCommentToSocket","selected","refProp","commentToSocket","setIsLoading","setOpened","isFake","setIsFake","lengthImage","setLengthImage","currentImage","setCurrentImage","isComments","showComment","childClicked","notifications","setShowSubCmt","current","scrollIntoView","behavior","block","info","tmp2","Number","count","splice","slice","arrayImage","noti","creatorPostDeleted","creator","indexPostDeleted","idPostDeleted","dataDeleted","ContentImage","selectedFile","filter","includes","alt","src","base64","ContentFile","title","href","download","HaveLike","likes","find","like","handleLikePost","isLike","classNames","is","postId","moment","createdAt","format","post__file","gridTemplateColumns","marginLeft","header__createPost","borderBottom","form___createPost","input__createPost","outlineWidth","options__createPost","option","modal","boxShadow","shadows","header","fontWeight","detail","input_text","image","prevImage","closeImage","prevFile","closeForm","filebase","form__bottom","totalSize","Form","setOpen","setContent","postData","setPostData","isMaxSize","setIsMaxSize","size","handleCloseImage","nameFile","files","res","autoComplete","noValidate","overflow","height","objectFit","multiple","onDone","fontStyle","trim","CreatePost","open","readOnly","Modal","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","CustomizedSnackbar","getRefs","on","postEmail","off","handleClose","event","reason","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","severity","bottom","zIndex","breakpoints","down","maxHeight","notification","truncate","whiteSpace","textOverflow","customSpan","Notificaion","substring","attributes","alignSelf","StyledBadge","withStyles","badge","Badge","CustomizedNotification","React","Noti","Notification","badgeContent","Bell","CustomizedDeletedPost","postDeleted","setPostDeleted","Posts","setUser","location","useLocation","deletedPost","elRefs","setElRefs","changeRefs","setChangeRefs","refs","_","createRef","decode","exp","Date","getTime","io","userID","home","username","disconnect","err","Error","md","ref","to","appBar","heading","App","AppBar","align","path","exact","authData","action","setItem","stringify","updateNumberCmt","unshift","iC","isCmt","combineReducers","store","createStore","reducers","compose","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f997d138.chunk.js","sourcesContent":["import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(2),\r\n  },\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  googleButton: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n}));","import React from 'react';\r\nimport { TextField, Grid, InputAdornment, IconButton } from '@material-ui/core';\r\n\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\n\r\nconst Input = ({ name, handleChange, label, autoFocus, type, handleShowPassword }) => (\r\n  <Grid item xs={12} sm={12}>\r\n    <TextField\r\n      name={name}\r\n      onChange={handleChange}\r\n      variant=\"outlined\"\r\n      required\r\n      fullWidth\r\n      label={label}\r\n      autoFocus={autoFocus}\r\n      type={type}\r\n      InputProps={name === 'password' ? {\r\n        endAdornment: (\r\n          <InputAdornment position=\"end\">\r\n            <IconButton onClick={handleShowPassword}>\r\n              {type === 'password' ? <Visibility /> : <VisibilityOff />}\r\n            </IconButton>\r\n          </InputAdornment>\r\n        ),\r\n      } : null}\r\n    />\r\n  </Grid>\r\n);\r\n\r\nexport default Input;","export const AUTH = 'AUTH'\r\nexport const LOGOUT  = 'LOGOUT'\r\nexport const CREATE  = 'CREATE'\r\nexport const FETCH_ALL  = 'FETCH_ALL'\r\nexport const DELETE  = 'DELETE'\r\nexport const UPDATE  = 'UPDATE'\r\nexport const COMMENT = 'COMMENT'\r\nexport const START_LOADING = 'START_LOADING'\r\nexport const NEW_POST = 'NEW_POST'\r\nexport const END_LOADING = 'END_LOADING'\r\nexport const NOTIFICATION = 'NOTIFICATION'\r\nexport const CHILD_CLICKED = 'CHILD_CLICKED'\r\nexport const CLEAN_NOTIFICATION = 'CLEAN_NOTIFICATION'\r\nexport const DELETE_NOTIFICATION = 'DELETE_NOTIFICATION'\r\nexport const IS_COMMENT = 'IS_COMMENT'\r\nexport const SHOW_COMMENT = 'SHOW_COMMENT'\r\nexport const UPDATE_CMT = 'UPDATE_CMT'\r\nexport const DELETED_POST = 'DELETE_POST'\r\nexport const UPDATE_LENG_CMT = 'UPDATE_LENG_CMT'\r\n\r\n\r\n\r\n\r\n","import axios from 'axios'\r\n\r\nconst API = axios.create({baseURL:'https://thuc-tap-20203-1.herokuapp.com/' })\r\n// const API = axios.create({baseURL:'http://localhost:5000/' })\r\n\r\nAPI.interceptors.request.use(req => {\r\n    if(localStorage.getItem('profile')){\r\n        req.headers.authorization = `Bearer ${JSON.parse(localStorage.getItem('profile')).token}`\r\n    }\r\n    return req;\r\n})\r\n\r\n\r\nexport const signin = (formData, history) => API.post('/signin', formData).catch((error)=> alert(error.response.data.message))\r\nexport const signup = (formData, history) => API.post('/signup', formData).catch((error)=> alert(error.response.data.message))\r\nexport const fetchPosts = () => API.get('/posts');\r\nexport const fetchPostComment = (id) => API.get(`/posts/${id}`);\r\nexport const fetchSubComments = (idPost, idComment) => API.get(`/posts/${idPost}/comment/${idComment}`);\r\nexport const createPost = (newPost) => API.post('/posts', newPost);\r\nexport const deletePost = (id) => API.delete(`/posts/${id}`);\r\nexport const likePost = (id) => API.patch(`/posts/${id}/likePost`);\r\nexport const comment = (value, id) => API.post(`/posts/${id}/commentPost`, { value });","import {AUTH, START_LOADING, END_LOADING } from '../constants/actionTypes'\r\nimport * as api from '../api/index'\r\n\r\nexport const signin = (formData, history) => async (dispatch) => {\r\n    try {\r\n        dispatch({type: START_LOADING})\r\n        const {data} = await api.signin(formData, history)\r\n        \r\n        data.result.password = formData.password\r\n        dispatch({type: AUTH, data})\r\n        dispatch({type: END_LOADING})\r\n        history.push('/')\r\n    } catch (error) {\r\n        dispatch({type: END_LOADING})\r\n        console.log(error.message)\r\n    }\r\n}\r\n\r\nexport const signup = (formData, history) => async (dispatch) => {\r\n    try {\r\n        dispatch({type: START_LOADING})\r\n        const {data} = await api.signup(formData, history)\r\n        \r\n        data.result.password = formData.password\r\n        dispatch({type: AUTH, data})\r\n        dispatch({type: END_LOADING})\r\n        history.push('/')\r\n    } catch (error) {\r\n        dispatch({type: END_LOADING})\r\n        console.log(error.message)\r\n    }\r\n}","import React, { useState } from 'react'\r\nimport { Avatar, Button, Paper, Grid, Typography, Container, Grow,CircularProgress } from '@material-ui/core'\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\r\nimport useStyles from './styles'\r\nimport Input from './Input'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { signin, signup } from '../../actions/auth'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nconst Auth = () => {\r\n  const { isLoading } = useSelector(state => state.auth);\r\n  const [isSignup, setIsSignup] = useState(false);\r\n  const classes = useStyles();\r\n  const [formData, setFormData] = useState({\r\n    email: '', password: '', confirmPassword: ''\r\n  })\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  const history = useHistory()\r\n  const dispatch = useDispatch()\r\n\r\n  const handleShowPassword = () => setShowPassword(!showPassword);\r\n\r\n\r\n\r\n  const switchMode = () => {\r\n    setIsSignup((prevIsSignup) => !prevIsSignup);\r\n    setShowPassword(false);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      if (isSignup) {\r\n        dispatch(signup(formData, history));\r\n      } else {\r\n        dispatch(signin(formData, history));\r\n      }\r\n    } catch (error) {\r\n      history.push('/auth')\r\n    }\r\n\r\n\r\n  };\r\n\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value })\r\n  };\r\n\r\n  return (\r\n    isLoading ? <div style={{ display: 'flex', padding: '5px', flexDirection: 'column', width: '100%', placeItems: 'center' }}><CircularProgress style={{ color: 'white' }} /></div>\r\n      :\r\n      <Grow in>\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n          <Paper className={classes.paper} elevation={3}>\r\n            <Avatar className={classes.avatar}>\r\n              <LockOutlinedIcon />\r\n            </Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\">{isSignup ? 'Đăng ký' : 'Đăng nhập'}</Typography>\r\n            <form className={classes.form} onSubmit={handleSubmit}>\r\n              <Grid container spacing={2}>\r\n                <Input name=\"email\" label=\"Email Address\" handleChange={handleChange} type=\"email\" />\r\n                <Input name=\"password\" label=\"Password\" handleChange={handleChange} type={showPassword ? 'text' : 'password'} handleShowPassword={handleShowPassword} />\r\n                {isSignup && <Input name=\"confirmPassword\" label=\"Confirm Password\" handleChange={handleChange} type=\"password\" />}\r\n              </Grid>\r\n\r\n              <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit}>\r\n                {isSignup ? 'Đăng ký' : 'Đăng nhập'}\r\n              </Button>\r\n\r\n              <Grid container justifyContent=\"flex-end\">\r\n                <Grid item>\r\n                  <Button onClick={switchMode}>\r\n                    {isSignup ? 'Đã có tài khoản? Đăng nhập' : \"Chưa có tài khoản? Đăng ký\"}\r\n                  </Button>\r\n                </Grid>\r\n              </Grid>\r\n            </form>\r\n          </Paper>\r\n        </Container>\r\n      </Grow>\r\n  );\r\n}\r\n\r\nexport default Auth\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  posts: {\r\n    marginTop: '40px',\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(2),\r\n  },\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(3),\r\n  }\r\n}));","import * as api from '../api/index'\r\nimport { FETCH_ALL, COMMENT, AUTH, CREATE, DELETE, UPDATE, START_LOADING, END_LOADING } from '../constants/actionTypes'\r\n\r\n\r\nexport const getPosts = () => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: START_LOADING })\r\n        const { data } = await api.fetchPosts();\r\n\r\n        dispatch({ type: FETCH_ALL, payload: data })\r\n        dispatch({ type: END_LOADING })\r\n    } catch (error) {\r\n\r\n        console.log(error.response)\r\n        dispatch({ type: END_LOADING })\r\n        localStorage.clear()\r\n        dispatch({type: AUTH})\r\n    }\r\n\r\n}\r\n\r\nexport const createPost = (newPost, content) => async (dispatch) => {\r\n    try {\r\n        newPost = {...newPost, message: content}\r\n        const { data } = await api.createPost(newPost);\r\n        data.lengCmt = 0;\r\n        dispatch({ type: CREATE, payload: data })\r\n        // console.log(data);\r\n        return data;\r\n    } catch (error) {\r\n        alert(`${error.response.data.message}`);\r\n        localStorage.clear()\r\n        dispatch({type: AUTH})\r\n        \r\n    }\r\n}\r\n\r\nexport const deletePost = (id, indexPost) => async (dispatch) => {\r\n    try {\r\n        await api.deletePost(id);\r\n        dispatch({ type: DELETE, payload: {id, indexPost }})\r\n    } catch (error) {\r\n        alert(`${error.response.data.message}`);\r\n        localStorage.clear()\r\n        dispatch({type: AUTH})\r\n   \r\n    }\r\n}\r\n\r\nexport const likePost = (id, postLeng) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.likePost(id);\r\n        data.lengCmt = postLeng;\r\n        dispatch({ type: UPDATE, payload: data })\r\n        return data;\r\n    } catch (error) {\r\n        alert('Bài viết không khả dụng')\r\n        localStorage.clear()\r\n        dispatch({type: AUTH})\r\n        \r\n    }\r\n}\r\n\r\nexport const commentPost = (value, id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.comment(value, id);\r\n\r\n        dispatch({ type: COMMENT, payload: data });\r\n\r\n        return data.comments;\r\n    } catch (error) {\r\n        console.log(error);\r\n        localStorage.clear()\r\n        \r\n        dispatch({type: AUTH})\r\n\r\n    }\r\n};\r\n\r\nexport const loadPostComments = (id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.fetchPostComment(id);\r\n        // console.log(data);\r\n        return data;\r\n    } catch (error) {\r\n        console.log(error);\r\n        localStorage.clear()\r\n        dispatch({type: AUTH})\r\n      \r\n\r\n    }\r\n};","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n    profile: {\r\n        padding: '5px',\r\n        display: 'flex',\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        positon: 'fixed'\r\n    },\r\n    txt: {\r\n       marginBottom: '5px'\r\n    },\r\n    options: {\r\n        display: 'flex',\r\n        justifyContent: 'space-around',\r\n    },\r\n    icon: {\r\n        color: 'rgb(0,0,0,0.8)',\r\n        padding: '13px',\r\n        background: 'rgb(0,255,255,0.4)',\r\n        borderRadius: '50%',\r\n        '&:hover': {\r\n            background: 'rgb(0,255,255,0.5)',\r\n            cursor: 'pointer',\r\n        }\r\n    },\r\n    notifi: {\r\n        color: 'red',\r\n       \r\n    }\r\n}))","import React from 'react'\r\nimport { Paper, Button } from '@material-ui/core'\r\nimport useStyles from './styles'\r\n\r\nconst Profile = ({ user, handleLogout }) => {\r\n    \r\n    const classes = useStyles()\r\n  \r\n\r\n    return (\r\n        <div className={classes.root_profile}>\r\n            <Paper style={{ margin: '10px' }} className={classes.profile}>\r\n                <div className={classes.txt} >{`Email: ${user?.result?.email}`}</div>\r\n                <div className={classes.txt} >{`Mật khẩu: ${user?.result?.password}`}</div>\r\n                <Button onClick={handleLogout} color=\"secondary\" variant=\"contained\">\r\n                    Đăng xuất\r\n                </Button>\r\n            </Paper>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile\r\n","import { makeStyles } from \"@material-ui/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n    post: {\r\n        width: '100%',\r\n        marginTop: '15px',\r\n        padding: '5px',\r\n    },\r\n    newPost: {\r\n        animation: `$myEffect 3000ms`,\r\n    },\r\n    \"@keyframes myEffect\": {\r\n        \"0%\": {\r\n            opacity: 0,\r\n            transform: \"translateY(-200%)\"\r\n        },\r\n        \"100%\": {\r\n            opacity: 1,\r\n            transform: \"translateY(0)\"\r\n        }\r\n    },\r\n    post__top: {\r\n        display: 'flex',\r\n        position: 'relative',\r\n        alignItems: 'center',\r\n        padding: '0 5px',\r\n    },\r\n    post__topInfo: {\r\n        display: 'flex',\r\n        flex: '1',\r\n        alignItems: 'flex-start',\r\n        flexDirection: 'column',\r\n    },\r\n    post__delete: {\r\n        '&:hover': {\r\n            borderRadius: '999px',\r\n            backgroundColor: 'lightwhite',\r\n            cursor: 'pointer'\r\n        }\r\n    },\r\n    h3__topInfo: {\r\n        fontSize: 'large',\r\n    },\r\n    date: {\r\n        fontSize: '0.9rem',\r\n        color: 'gray',\r\n    },\r\n    post__avatar: {\r\n        marginRight: '10px',\r\n    },\r\n    body: {\r\n        padding: '0 10px 5px 10px',\r\n    }\r\n    ,\r\n    post__image: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n\r\n        position: 'relative',\r\n        background: 'whitesmoke',\r\n    },\r\n\r\n    previousImage: {\r\n        position: 'absolute',\r\n        cursor: 'pointer',\r\n        top: '45%',\r\n        left: '0',\r\n        padding: '5px',\r\n\r\n    },\r\n    nextImage: {\r\n        position: 'absolute',\r\n        cursor: 'pointer',\r\n        top: '45%',\r\n        right: '0',\r\n        padding: '5px',\r\n\r\n    },\r\n    icon: {\r\n\r\n        color: 'black',\r\n        opacity: '0.7'\r\n    },\r\n\r\n    haveImage: {\r\n\r\n        flex: '0.7',\r\n        width: '90%',\r\n    },\r\n    fileOther: {\r\n        textDecoration: 'none',\r\n        color: 'black',\r\n        margin: '5px',\r\n    },\r\n    file: {\r\n        backgroundColor: '#ADDCFF',\r\n        textAlign: 'center',\r\n        borderRadius: '10px',\r\n        padding: '2px',\r\n    },\r\n    post__options: {\r\n        borderTop: '1px solid lightgray',\r\n        display: 'flex',\r\n        justifyContent: 'space-evenly',\r\n        fontSize: 'medium',\r\n        color: 'gray',\r\n        cursor: 'pointer',\r\n        padding: '5px 5px 0 5px',\r\n    },\r\n    post__option: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        flex: '1',\r\n        '&:hover': {\r\n            backgroundColor: '#eff2f5',\r\n            borderRadius: '20px'\r\n        }\r\n    },\r\n    comments: {\r\n        marginTop: '5px',\r\n        borderTop: '1px solid lightgray'\r\n    },\r\n    post__bottom: {\r\n        marginTop: '5px',\r\n        fontSize: '1.05em',\r\n        wordWrap: 'break-word',\r\n\r\n        \r\n        '& img': {\r\n            verticalAlign: 'middle',\r\n        }\r\n    }\r\n}))","import { makeStyles } from '@material-ui/core/styles'\r\n\r\nexport default makeStyles(theme => ({\r\n    commentsOuterContainer: {\r\n        padding: '5px',\r\n        display: 'flex',\r\n        alignItems: 'stretch',\r\n        flexDirection: 'column',\r\n    },\r\n    commentsInnerContainer: {\r\n        margin: '5px 0',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'flex-start',\r\n        \r\n    },\r\n    form___comment: {\r\n        display: 'flex',\r\n        borderRadius: '20px',\r\n        \r\n    },\r\n    input__comment: {\r\n        flex: '1',\r\n        fontSize: 'medium',\r\n        padding: '10px',\r\n        border: 'none',\r\n        borderRadius: '15px',\r\n        backgroundColor: 'whitesmoke !important',\r\n        resize: 'none',\r\n        outline: 'none',\r\n    },\r\n   \r\n    list__comment: {\r\n        padding: '5px 10px',\r\n        borderRadius: '15px',\r\n        backgroundColor: 'whitesmoke',\r\n        wordWrap: 'break-word',\r\n\r\n        // wordWrap: 'break-word',\r\n    },\r\n    emoji: {\r\n        '& img':{\r\n            verticalAlign: 'middle !important',\r\n        }\r\n    }\r\n}))","import {makeStyles} from '@material-ui/core/styles'\r\n\r\nexport default makeStyles((theme) => ({\r\n    \r\n    form___comment: {\r\n        display: 'flex',\r\n        borderRadius: '20px',\r\n    },\r\n    input__comment: {\r\n        flex: '1',\r\n        fontSize: 'medium',\r\n        padding: '10px',\r\n        border: 'none',\r\n        borderRadius: '15px',\r\n        backgroundColor: 'whitesmoke',\r\n        resize: 'none',\r\n        outline: 'none',\r\n    },\r\n    list__comment: {\r\n        padding: '5px 10px',\r\n        borderRadius: '15px',\r\n        backgroundColor: 'whitesmoke',\r\n        // wordBreak: 'break-all',\r\n        \r\n        // wordBreak: 'break-all',\r\n        wordWrap: 'break-word',\r\n\r\n    },\r\n    emojiSub: {\r\n        '& img': {\r\n            verticalAlign: 'middle !important',\r\n        }\r\n    }\r\n}))","import React, { useState, useEffect } from 'react'\r\nimport { Typography, CircularProgress } from '@material-ui/core'\r\nimport useStyles from './styles'\r\nimport ReactEmoji from 'react-emoji'\r\n//comment: data, prevId, _id, totalSub\r\nimport InputEmoji from \"react-input-emoji\";\r\n\r\n\r\nconst OneRootComment = ({ post, indexPost, c, setNewSubCmtToSocket, setSubCommentToSocket, subCommentToSocket, i, socket, idPost, email, isShowSubComments, setTotalSubcomments, totalSubcomments, setIsShowSubComments }) => {\r\n    const [isIsSendSub, setIsSendSub] = useState(false)\r\n    const [subComment, setSubComment] = useState('')\r\n    const [subComments, setSubComments] = useState(post?.subComments)\r\n    const classes = useStyles()\r\n\r\n    useEffect(() => {\r\n        if (subCommentToSocket && isShowSubComments[i] && socket) {\r\n            if (String(subCommentToSocket.idPost) === String(post?._id)\r\n                && String(subCommentToSocket.prevCommentId) === String(c._id) && String(subCommentToSocket.index) === String(i)) {\r\n                const { data, prevCommentId, totalSubcomment, _id, ...info } = subCommentToSocket;\r\n                // console.log(info)\r\n                if (subComments || subComments === []) {\r\n                    let haveComment = false;\r\n                    for (let i = 0; i < subComments.length; i++) {\r\n                        if (String(subComments[i]._id) === String(_id)) {\r\n                            haveComment = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (!haveComment) {\r\n                        setSubComments([...subComments, { data, prevCommentId, totalSubcomment, _id }])\r\n                        if (totalSubcomments.length > i) {\r\n\r\n                            if (post.subComments) {\r\n                                post.subComments.push({ data, prevCommentId, totalSubcomment, _id })\r\n                                // let tmp2 = []\r\n                                // post?.comments.forEach(el => tmp2.push(el.totalSubcomment))\r\n                                // totalSubcomments.push(...tmp2)\r\n\r\n                                // if (totalSubcomments || totalSubcomments === []) {\r\n                                //     let count = post?.comments[Number(i)].totalSubcomment + 1;\r\n                                //     let tmp = totalSubcomments.splice(Number(i), 1, count);\r\n                                //     post.comments[Number(i)].totalSubcomment = totalSubcomments[Number(i)];\r\n                                //     totalSubcomments.splice(tmp2.length)\r\n                                //     setTotalSubcomments(totalSubcomments.slice(0))\r\n                                // }\r\n                                socket.emit('increSubCmt', ({ idPost, i, idComment: c._id, idSubCmt: subCommentToSocket._id }), () => { })\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                }\r\n                // setSubCommentToSocket({...subCommentToSocket,data: '',prevCommentId: '',totalSubcomment: '',_id: '', index: -1,idPost: ''})\r\n            }\r\n        } else return;\r\n    }, [subCommentToSocket])\r\n\r\n   \r\n    const handleReply = (e) => {\r\n        // e.preventDefault()\r\n        setIsSendSub(true);\r\n\r\n        if (subComment) {\r\n            const prevId = c._id;\r\n            console.log(subComment);\r\n            socket.emit('send subComment', ({ email, idPost, data: subComment, prevId, i }), (error) => {\r\n                if (error) {\r\n                    alert(error)\r\n                }\r\n                setSubComment('')\r\n                setIsSendSub(false);\r\n\r\n                socket.emit('send interaction', ({ email, idPost, data: subComment, prevId, indexPost, dataCmtPrev: c?.data?.split('::: ')[1], idCmtPrev: c._id, type: \"SUB_COMMENT\", indexOfSubCmt: i }), (error) => {\r\n                    if (error) {\r\n                        alert(error)\r\n                    }\r\n\r\n                })\r\n            })\r\n        }\r\n    }\r\n    return (\r\n\r\n        isShowSubComments[i] &&\r\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '5px 0' }}>\r\n            {subComments?.map(sC => (\r\n                <Typography className={classes.list__comment} key={sC._id} variant=\"subtitle2\" style={{ margin: '0 auto 0 50px' }}>\r\n                    <strong>{sC?.data?.split('::: ')[0]}</strong>\r\n                    <div className={classes.emojiSub}>{ReactEmoji.emojify(sC?.data?.split('::: ')[1])}</div>\r\n                </Typography>\r\n            ))}\r\n\r\n            < form className={classes.form___comment} style={{ margin: '0 0 0 48px' }} onSubmit={handleReply}>\r\n                {/* <input\r\n                    disabled={isIsSendSub}\r\n                    className={classes.input__comment}\r\n                    value={subComment}\r\n                    autoFocus\r\n                    onChange={(e) => setSubComment(e.target.value)}\r\n                    name=\"subComment\"\r\n                    type=\"text\" placeholder=\"Viết bình luận\"\r\n                /> */}\r\n                <InputEmoji\r\n                        disabled={isIsSendSub}\r\n                        style={{ backgroundColor: 'whitesmoke' }}\r\n                        value={subComment}\r\n                        onChange={setSubComment}\r\n                        cleanOnEnter\r\n                        onEnter={handleReply}\r\n                        name=\"subComment\"\r\n                        placeholder=\"Viết bình luận\"\r\n                />\r\n                <button type=\"submit\" hidden>Send</button>\r\n                {isIsSendSub && <CircularProgress />}\r\n            </form>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default OneRootComment\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Typography, CircularProgress } from '@material-ui/core/';\r\nimport { fetchSubComments } from '../../../../api'\r\nimport useStyles from './styles';\r\nimport OneRootComment from '../OneRootComment/OneRootComment';\r\nimport ReactEmoji from 'react-emoji'\r\nimport InputEmoji from \"react-input-emoji\";\r\n\r\n\r\n//comments: data, prevId, _id, totalSubComment\r\n\r\nconst Comment = ({ post, subCommentToSocket, setSubCommentToSocket, showSubCmt, setNewSubCmtToSocket, handleShowComment, indexPost, socket, handleDelete, comments, setComments, totalSubcomments, setTotalSubcomments, opened, isLoadingComment, setIsLoadingComment }) => {\r\n    const user = JSON.parse(localStorage.getItem('profile'));\r\n    const [comment, setComment] = useState('');\r\n    let [openedSubCmt, setOpenedSubCmt] = useState(false)\r\n    const [isUpdate, setIsUpdate] = useState(false)\r\n    const [isShowSubComments, setIsShowSubComments] = useState([])\r\n    // const { showComment, isComments } = useSelector((state) => state.posts)\r\n\r\n\r\n    // const [postSubComments, setPostSubComments] = useState([])\r\n    const classes = useStyles();\r\n    const email = user?.result?.email\r\n    const idPost = post._id\r\n\r\n   \r\n\r\n    useEffect(() => {\r\n\r\n        let tmp = []\r\n        setIsShowSubComments([])\r\n\r\n        tmp = Array(post?.comments.length).fill(false)\r\n        isShowSubComments.push(...tmp)\r\n        tmp = []\r\n        post?.comments.forEach(el => tmp.push(el.totalSubcomment))\r\n        setTotalSubcomments([...tmp])\r\n\r\n\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (!isShowSubComments[showSubCmt?.indexOfSubCmt])\r\n            showSubComment(showSubCmt?.indexOfSubCmt, showSubCmt?.idCmtPrev)\r\n\r\n\r\n    }, [showSubCmt])\r\n\r\n\r\n\r\n    const getSubComments = async (index, idComment) => {\r\n        const { data } = await fetchSubComments(idPost, idComment);\r\n        // console.log(data);\r\n        return data;\r\n    }\r\n\r\n    const totalSubCmt = () => {\r\n        let rs = 0;\r\n        if (totalSubcomments?.length) totalSubcomments.forEach(el => rs += el)\r\n        else {\r\n            // setLengCmt(comments.length)\r\n            return 0;\r\n        }\r\n        // setLengCmt(comments.length + rs);\r\n\r\n        return rs;\r\n    }\r\n\r\n   \r\n\r\n    // use socket\r\n    const handleComment = async (e) => {\r\n        // e.preventDefault()\r\n        setIsUpdate(true);\r\n\r\n        if (comment) {\r\n            const prevId = ''\r\n            socket.emit('send comment', ({ email, idPost, data: comment, prevId, indexPost }), (error) => {\r\n                if (error) {\r\n                    alert(error)\r\n                    handleDelete()\r\n                }\r\n                setComment('')\r\n                setIsUpdate(false);\r\n\r\n                //send interactions\r\n                socket.emit('send interaction', ({ email, idPost, data: comment, prevId, indexPost, type: \"COMMENT\" }), (error) => {\r\n                    if (error) {\r\n                        alert(error)\r\n                    }\r\n                })\r\n            })\r\n        }\r\n    };\r\n\r\n\r\n\r\n    const showSubComment = async (index, idComment) => {\r\n        if (index >= isShowSubComments.length) {\r\n            let tmp = Array(index - isShowSubComments.length + 1).fill(false)\r\n            // console.log(tmp)\r\n            setIsShowSubComments(isShowSubComments.push(...tmp))\r\n            // console.log('ra')\r\n        }\r\n        try {\r\n            await setIsShowSubComments(isShowSubComments?.map((iSSC, i) => i === index ? !iSSC : false));\r\n            setOpenedSubCmt(true)\r\n            openedSubCmt = true\r\n            // console.log('openedSubCmt', openedSubCmt)\r\n            const data = await getSubComments(index, idComment)\r\n            post.subComments = data;\r\n        } catch (error) {\r\n\r\n        } finally {\r\n            setOpenedSubCmt(false)\r\n            openedSubCmt = false\r\n\r\n            // console.log('openedSubCmt', openedSubCmt)\r\n        }\r\n        // console.log(isShowSubComments)\r\n    }\r\n\r\n    const handleOnEnter = () => {\r\n        console.log(\"enter\", comment);\r\n    }\r\n\r\n    return (\r\n        <div >\r\n            <div className={classes.commentsOuterContainer} >\r\n\r\n                {!isLoadingComment ?\r\n                    <>\r\n                        <Typography variant=\"subtitle2\">{comments.length + totalSubCmt()} lượt bình luận</Typography>\r\n                        <div className={classes.commentsInnerContainer} >\r\n                            {\r\n                                comments?.map((c, i) => (\r\n                                    <div key={i} style={{ padding: '5px 10px', display: 'flex', flexDirection: 'column', width: '95%' }}>\r\n                                        <div style={{ display: 'flex', alignItems: \"center\", gap: '0 10px' }}>\r\n                                            <Typography gutterBottom variant=\"subtitle2\" className={classes.list__comment}>\r\n                                                <strong>{c?.data?.split('::: ')[0]}</strong>\r\n                                                <div className={classes.emoji}>\r\n                                                    {ReactEmoji.emojify(c?.data?.split('::: ')[1])}\r\n                                                </div>\r\n\r\n                                            </Typography>\r\n                                            {\r\n                                                totalSubcomments[i] <= 0 &&\r\n                                                <Typography\r\n                                                    variant='body2'\r\n                                                    onClick={() => {\r\n                                                        const idComment = c._id;\r\n                                                        showSubComment(i, idComment)\r\n                                                    }}\r\n                                                    style={{ width: '130px', cursor: 'pointer', display: 'flex', justifyContent: 'start', fontSize: '0.8rem' }} >\r\n                                                    Trả lời\r\n                                                </Typography>\r\n                                            }\r\n                                        </div>\r\n                                        {\r\n                                            totalSubcomments[i] > 0 &&\r\n                                            <Typography\r\n                                                variant='body2'\r\n                                                onClick={() => {\r\n                                                    const idComment = c._id;\r\n                                                    showSubComment(i, idComment)\r\n                                                }}\r\n                                                style={{ cursor: 'pointer', display: 'flex', padding: '0px 5px', fontSize: '0.8rem' }}\r\n\r\n                                                color=\"primary\">\r\n                                                {!isShowSubComments[i] ? `${totalSubcomments[i]} lượt phản hồi` : \"Thu gọn\"}\r\n                                            </Typography>\r\n                                        }\r\n                                        {\r\n\r\n                                            (isShowSubComments[i]) ?\r\n                                                openedSubCmt ? <CircularProgress fontSize=\"small\" /> :\r\n                                                    <OneRootComment\r\n                                                        post={post}\r\n                                                        c={c}\r\n                                                        key={i}\r\n                                                        i={i}\r\n                                                        indexPost={indexPost}\r\n                                                        email={email}\r\n                                                        idPost={idPost}\r\n                                                        setNewSubCmtToSocket={setNewSubCmtToSocket}\r\n                                                        socket={socket}\r\n                                                        subCommentToSocket={subCommentToSocket}\r\n                                                        isShowSubComments={isShowSubComments}\r\n                                                        openedSubCmt={openedSubCmt}\r\n                                                        setIsShowSubComments={setIsShowSubComments}\r\n                                                        setTotalSubcomments={setTotalSubcomments}\r\n                                                        totalSubcomments={totalSubcomments}\r\n                                                        setSubCommentToSocket={setSubCommentToSocket}\r\n                                                    /> : null\r\n                                        }\r\n                                    </div>\r\n                                ))\r\n                            }\r\n\r\n                        </div>\r\n                    </>\r\n                    :\r\n                    <div style={{ display: 'flex', padding: '5px', flexDirection: 'column', width: '100%', placeItems: 'center' }}><CircularProgress /></div>\r\n                }\r\n                <form className={classes.form___comment} onSubmit={handleComment}>\r\n                    {/* <input\r\n                        disabled={isUpdate || isLoadingComment}\r\n                        className={classes.input__comment}\r\n                        value={handleValue()}\r\n                        onChange={(e) => setComment(e.target.value)}\r\n                        name=\"comment\"\r\n                        type=\"text\" placeholder=\"Viết bình luận\"\r\n                    /> */}\r\n                    <InputEmoji\r\n                        disabled={isUpdate || isLoadingComment}\r\n                        style={{ backgroundColor: 'whitesmoke' }}\r\n                        value={comment}\r\n                        onChange={setComment}\r\n                        cleanOnEnter\r\n                        onEnter={handleComment}\r\n                        name=\"comment\"\r\n                        placeholder=\"Viết bình luận\"\r\n                    />\r\n                    <button type=\"submit\" hidden>Send</button>\r\n                    {isUpdate && <CircularProgress />}\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default Comment\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Avatar, Paper, CircularProgress } from '@material-ui/core'\r\nimport useStyles from './styles'\r\nimport ThumbUpAltOutlinedIcon from '@material-ui/icons/ThumbUpAltOutlined';\r\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\r\nimport ChatBubbleOutlineOutlinedIcon from '@material-ui/icons/ChatBubbleOutlineOutlined';\r\nimport ShareOutlinedIcon from '@material-ui/icons/ShareOutlined';\r\nimport moment from 'moment'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { deletePost, likePost } from '../../../actions/posts';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\r\nimport Comment from './Comment/Comment'\r\nimport { fetchPostComment } from '../../../api/index'\r\nimport ReactEmoji from 'react-emoji'\r\nimport { IS_COMMENT, CHILD_CLICKED, UPDATE, SHOW_COMMENT, DELETE_NOTIFICATION } from '../../../constants/actionTypes'\r\nimport classNames from 'classnames'\r\n\r\n\r\nconst Post = ({ post, socket, newSubCmtToSocket, setSubCommentToSocket, setCommentToSocket, setNewSubCmtToSocket, subCommentToSocket, indexPost, selected, refProp, commentToSocket }) => {\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [opened, setOpened] = useState(false)\r\n    // const [isComment, setIsComment] = useState(false)\r\n    const [isLoadingComment, setIsLoadingComment] = useState(false)\r\n    const [isUpdate, setIsUpdate] = useState(false)\r\n    const [isFake, setIsFake] = useState(false)\r\n    const classes = useStyles()\r\n    const dispatch = useDispatch()\r\n    const user = JSON.parse(localStorage.getItem('profile'))\r\n    const [lengthImage, setLengthImage] = useState(0)\r\n    const [currentImage, setCurrentImage] = useState(0)\r\n    const { newPost, isComments, showComment, childClicked, notifications } = useSelector(state => state.posts)\r\n    const [comments, setComments] = useState(post?.comments || []);\r\n    const [totalSubcomments, setTotalSubcomments] = useState([])\r\n    const [showSubCmt, setShowSubCmt] = useState(null)\r\n    // const [lengCmt, setLengCmt] = useState(Number(post.lengCmt) || 0);\r\n    // const { isComments } = useSelector((state) => state.posts)\r\n\r\n    useEffect(() => {\r\n        if (selected) {\r\n            // console.log('vao');\r\n            refProp?.current?.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n            dispatch({ type: CHILD_CLICKED, payload: -1 })\r\n        }\r\n    }, [childClicked, dispatch, refProp, selected])\r\n\r\n    // useEffect(() => {\r\n    //     const updateComment = async () => {\r\n    //         await setLengCmt(lengCmt + 1);\r\n    //         let updateCmt = lengCmt + 1;\r\n    //         // console.log(\"lengCmt \", lengCmt)\r\n    //         let updatePost = { ...post, lengCmt: updateCmt }\r\n    //         // console.log(\"updateCmt \", updatePost)\r\n    //         await dispatch({ type: UPDATE, payload: updatePost })\r\n    //         await dispatch({ type: UPDATE_CMT, payload: '' })\r\n    //     }\r\n    //     if (updateNumberCmt === post._id) {\r\n    //         updateComment()\r\n    //     }\r\n    // }, [updateNumberCmt, dispatch])\r\n\r\n    // useEffect(() => {\r\n    //     // console.log(\"updateCmt \", post.lengCmt)\r\n    //     setLengCmt(Number(post.lengCmt) || 0)\r\n    // }, [deletedPost])\r\n\r\n    useEffect(() => {\r\n\r\n        if (showComment && showComment?.indexPost === indexPost) {\r\n            // console.log(\"vao useEffects\", showComment)\r\n            if (!isComments[indexPost]) handleShowComment()\r\n            if (typeof showComment?.indexOfSubCmt == 'number' && showComment?.indexOfSubCmt !== -1) {\r\n                const { indexOfSubCmt, idCmtPrev } = showComment;\r\n                setShowSubCmt({ indexOfSubCmt, idCmtPrev })\r\n            }\r\n            dispatch({ type: SHOW_COMMENT, payload: null })\r\n\r\n        }\r\n\r\n    }, [showComment])\r\n\r\n    useEffect(() => {\r\n        if (commentToSocket) {\r\n            if (String(commentToSocket.idPost) === String(post?._id)) {\r\n                const { data, prevCommentId, totalSubcomment, _id, ...info } = commentToSocket;\r\n                const tmp = [...comments, { data, prevCommentId, totalSubcomment, _id }]\r\n                console.log(info)\r\n                setComments(tmp)\r\n                // console.log(comments)\r\n                post.comments.push({ data, prevCommentId, totalSubcomment, _id })\r\n                if (!post.lengCmt)\r\n                    post.lengCmt = 0;\r\n                post.lengCmt += 1;\r\n                let tmp2 = []\r\n                post?.comments.forEach(el => tmp2.push(el.totalSubcomment))\r\n                setTotalSubcomments([...tmp2])\r\n                setCommentToSocket({ ...commentToSocket, idPost: '' })\r\n            }\r\n        }\r\n    }, [commentToSocket])\r\n\r\n    useEffect(() => {\r\n        if (newSubCmtToSocket.i !== Number(-1)) {\r\n            // console.log(newSubCmtToSocket)\r\n\r\n            if (String(newSubCmtToSocket.idPost) === String(post?._id)) {\r\n                const { i, ...info } = newSubCmtToSocket;\r\n                console.log(info)\r\n                // console.log(newSubCmtToSocket)\r\n                let tmp2 = []\r\n\r\n                post?.comments.forEach(el => tmp2.push(el.totalSubcomment))\r\n                if (!post.lengCmt)\r\n                    post.lengCmt = 0;\r\n                post.lengCmt += 1;\r\n\r\n                totalSubcomments.push(...tmp2)\r\n\r\n                if (totalSubcomments || totalSubcomments === []) {\r\n                    let count = post?.comments[Number(i)]?.totalSubcomment + 1;\r\n                    totalSubcomments.splice(Number(i), 1, count);\r\n                    // console.log(\"opened\", opened)\r\n                    if (opened) {\r\n                        post.comments[Number(i)].totalSubcomment = totalSubcomments[Number(i)];\r\n                    }\r\n                    totalSubcomments.splice(tmp2.length)\r\n                    setTotalSubcomments(totalSubcomments.slice(0))\r\n                }\r\n\r\n                if (newSubCmtToSocket.i !== -1)\r\n                    setNewSubCmtToSocket({ idPost: '', i: -1, idComment: '', idSubCmt: newSubCmtToSocket.idSubCmt })\r\n            }\r\n        }\r\n\r\n    }, [newSubCmtToSocket])\r\n\r\n    let arrayImage = []\r\n    const handleDelete = async () => {\r\n        try {\r\n            setIsLoading(true)\r\n            await dispatch(deletePost(post._id, indexPost));\r\n            notifications.forEach((noti, i) => {\r\n                if (noti.indexPost === indexPost) {\r\n                    dispatch({ type: DELETE_NOTIFICATION, payload: i })\r\n                }\r\n            })\r\n            setIsLoading(false)\r\n            socket.emit('deleted post', ({ creatorPostDeleted: post.creator, indexPostDeleted: indexPost, idPostDeleted: post._id, dataDeleted: post.message }), () => {\r\n\r\n            })\r\n        } catch (error) {\r\n            console.log(error)\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    const ContentImage = () => {\r\n\r\n        if (post.selectedFile.length > 0) {\r\n            arrayImage = post.selectedFile.filter(function (file) {\r\n                return file.type.includes(\"image\");\r\n            })\r\n            setLengthImage(arrayImage.length)\r\n            if (arrayImage.length > 0)\r\n                return <img alt='' className={classes.haveImage} src={arrayImage[currentImage]?.base64} />\r\n        }\r\n        return false;\r\n    }\r\n    const ContentFile = () => {\r\n\r\n        if (post.selectedFile.length > 0) {\r\n            return <>\r\n                {post.selectedFile.map(file => {\r\n                    if (!file.type.includes(\"image\")) {\r\n                        return <a key={file.name} className={classes.fileOther} title={file.name} href={file.base64} download>\r\n                            <div key={file.name} className={classes.file}>{file.name}</div>\r\n                        </a>\r\n                    } else return null;\r\n                })}\r\n            </>\r\n        }\r\n        return false;\r\n    }\r\n\r\n    const changePrevImage = () => {\r\n        if (currentImage === 0) {\r\n            setCurrentImage(arrayImage.length - 1)\r\n        } else {\r\n            setCurrentImage(currentImage - 1)\r\n        }\r\n    }\r\n    const changeNextImage = () => {\r\n        if (currentImage === arrayImage.length - 1) {\r\n            setCurrentImage(0)\r\n        } else {\r\n            setCurrentImage(currentImage + 1)\r\n        }\r\n    }\r\n    // no socket\r\n    const HaveLike = () => {\r\n        if (post.likes.length > 0) {\r\n            return post.likes.find(like => like === user?.result?.email)\r\n                ? (\r\n                    <><ThumbUpAltIcon style={{ color: 'blue' }} /></>\r\n                ) : (\r\n                    <><ThumbUpAltOutlinedIcon /></>\r\n                )\r\n        }\r\n        return <><ThumbUpAltOutlinedIcon /></>\r\n    }\r\n    const handleLikePost = async () => {\r\n        try {\r\n            setIsUpdate(true)\r\n            const data = await dispatch(likePost(post._id, post.lengCmt))\r\n            const isLike = data.likes.find(like => like === user?.result?.email)\r\n            // alert(isLike)\r\n            if (socket) {\r\n                socket.emit('send likeInteraction', ({ email: user?.result?.email, indexPost, idPost: post._id, title: post.message, data, isLike }), (error) => {\r\n                    if (error) {\r\n                        alert(error)\r\n                    }\r\n                })\r\n            }\r\n        } catch (error) {\r\n\r\n        } finally {\r\n            setIsUpdate(false)\r\n        }\r\n    }\r\n\r\n    const handleShowComment = async () => {\r\n        // console.log(\"show cmt\")\r\n        if (!opened) {\r\n            setIsFake(true)\r\n            try {\r\n                setIsLoadingComment(true)\r\n                let { data } = await fetchPostComment(post._id)\r\n                // console.log(data)\r\n\r\n                if (data) {\r\n                    post.comments = data;\r\n                    await setComments([...data])\r\n                    let tmp2 = []\r\n                    post?.comments.forEach(el => tmp2.push(el.totalSubcomment))\r\n                    await setTotalSubcomments([...tmp2])\r\n                    // console.log(\"...\");\r\n                    setOpened(true)\r\n\r\n\r\n                    setIsLoadingComment(false)\r\n                }\r\n            } catch (error) {\r\n                console.log(error)\r\n\r\n                setIsLoadingComment(false)\r\n            }\r\n            setIsFake(false)\r\n        }\r\n\r\n        // setIsComment(!isComment)\r\n        dispatch({ type: IS_COMMENT, payload: indexPost })\r\n    };\r\n    return (\r\n        <>\r\n            <Paper key={post._id} className={classNames(classes.post, newPost.is && newPost?.postId === post._id ? classes.newPost : null)}>\r\n                <div className={classes.post__top}>\r\n                    <Avatar className={classes.post__avatar}>{post.creator[0]}</Avatar>\r\n                    <div className={classes.post__topInfo}>\r\n                        <div className={classes.h3__topInfo}>{post.creator}</div>\r\n                        <div className={classes.date}>{moment(post.createdAt).format('L')}</div>\r\n                    </div>\r\n                    {user?.result?.email === post.creator &&\r\n                        <div className={classes.post__delete} onClick={handleDelete}>\r\n                            <DeleteIcon />\r\n                        </div>\r\n                    }\r\n                </div>\r\n                {\r\n                    isLoading ? <div style={{ display: 'flex', padding: '5px', flexDirection: 'column', width: '100%', placeItems: 'center' }}><CircularProgress />Đang xóa</div>\r\n                        :\r\n                        <>\r\n                            <div className={classes.body}>\r\n                                <div className={classes.post__bottom}>\r\n                                    {ReactEmoji.emojify(post.message)}\r\n                                </div>\r\n\r\n                                <div className={classes.post__image} >\r\n                                    {post.selectedFile && <ContentImage />}\r\n                                    {lengthImage > 1 &&\r\n                                        <>\r\n                                            <div onClick={changePrevImage} className={classes.previousImage}>\r\n\r\n                                                <ArrowBackIosIcon className={classes.icon} />\r\n                                            </div>\r\n                                            <div onClick={changeNextImage} className={classes.nextImage}>\r\n\r\n                                                <ArrowForwardIosIcon className={classes.icon} />\r\n                                            </div>\r\n                                        </>\r\n                                    }\r\n                                </div>\r\n\r\n                                <div className={classes.post__file} style={{ display: 'grid', gridTemplateColumns: '1fr 1fr' }}>\r\n                                    {post.selectedFile && <ContentFile />}\r\n                                </div>\r\n                            </div>\r\n                            <div className={classes.post__options}>\r\n\r\n\r\n                                {isUpdate ? <div className={classes.post__option}><CircularProgress /></div>\r\n                                    :\r\n                                    <>\r\n                                        <div className={classes.post__option} onClick={handleLikePost}>\r\n                                            <HaveLike />\r\n                                            <p style={{ marginLeft: '10px' }}>{post.likes.length} Thích</p>\r\n                                        </div>\r\n                                    </>\r\n                                }\r\n\r\n                                <div className={classes.post__option} onClick={handleShowComment}>\r\n                                    <ChatBubbleOutlineOutlinedIcon />\r\n                                    <p style={{ marginLeft: '10px' }}> {post.lengCmt} Bình luận</p>\r\n                                </div>\r\n                                <div className={classes.post__option}>\r\n                                    <ShareOutlinedIcon />\r\n                                    <p style={{ marginLeft: '10px' }}>Chia sẻ</p>\r\n                                </div>\r\n                            </div>\r\n                            {isFake &&\r\n                                <div style={{ display: 'flex', padding: '5px', flexDirection: 'column', width: '100%', placeItems: 'center' }}><CircularProgress /></div>\r\n                            }\r\n                            {isComments[indexPost] &&\r\n                                <div className={classes.comments}>\r\n                                    <Comment\r\n                                        subCommentToSocket={subCommentToSocket}\r\n                                        setNewSubCmtToSocket={setNewSubCmtToSocket}\r\n                                        post={post}\r\n                                        \r\n                                        setIsLoadingComment={setIsLoadingComment}\r\n                                        opened={opened}\r\n                                        isLoadingComment={isLoadingComment}\r\n                                        socket={socket}\r\n                                        handleDelete={handleDelete}\r\n                                        comments={comments}\r\n                                        setComments={setComments}\r\n                                        totalSubcomments={totalSubcomments}\r\n                                        setTotalSubcomments={setTotalSubcomments}\r\n                                        indexPost={indexPost}\r\n                                        handleShowComment={handleShowComment}\r\n                                        showSubCmt={showSubCmt}\r\n\r\n                                        setSubCommentToSocket={setSubCommentToSocket}\r\n                                    />\r\n                                </div>\r\n                            }\r\n\r\n                        </>\r\n                }\r\n\r\n            </Paper>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Post","import { makeStyles } from '@material-ui/core/styles'\r\n\r\nexport default makeStyles((theme) => ({\r\n    createPost: {\r\n        padding: '5px',\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        width: '100%'\r\n    },\r\n    header__createPost: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        borderBottom: '1px solid #eff2f5',\r\n        padding: '5px',\r\n        alignItems: 'center'\r\n    },\r\n    form___createPost: {\r\n        flex: '1',\r\n        display: 'flex',\r\n\r\n    },\r\n    input__createPost: {\r\n        outlineWidth: '0',\r\n        border: 'none',\r\n        padding: '10px 20px',\r\n        margin: '0 10px',\r\n        borderRadius: '999px',\r\n        backgroundColor: '#eff2f5',\r\n        flex: '1',\r\n        fontSize: '1.05rem'\r\n    },\r\n    options__createPost: {\r\n        display: 'flex',\r\n        justifyContent: 'space-evenly',\r\n    },\r\n    option: {\r\n        padding: '5px',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        flex: '0.33',\r\n        color: 'gray',\r\n        cursor: 'pointer',\r\n        '&:hover': {\r\n            backgroundColor: '#eff2f5',\r\n            borderRadius: '20px'\r\n        }\r\n    },\r\n    modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        borderRadius: '10px',\r\n        boxShadow: theme.shadows[5],\r\n        \r\n    },\r\n}))","import {makeStyles } from '@material-ui/core/styles'\r\n\r\nexport default makeStyles(theme => ({\r\n    \r\n    form: {\r\n        padding: '5px',\r\n        display: 'flex', \r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        \r\n        position: 'relative',\r\n    },\r\n    header: {\r\n        width: '100%',\r\n        fontSize: 'medium',\r\n        fontWeight: 'bold',\r\n        padding: '5px 0',\r\n        textAlign: 'center',\r\n        borderBottom: '1px solid gray',\r\n        display: 'block',\r\n    },\r\n    body: {\r\n        padding: '5px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n\r\n    },\r\n    top: {\r\n        display: 'flex',\r\n        flexDirection: 'flex-start',\r\n        padding: '5px 0'\r\n    }, \r\n    avatar: {\r\n        marginRight: '5px',\r\n        \r\n    }, \r\n    info: {\r\n\r\n    }, \r\n    detail: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        \r\n    },\r\n    input_text: {\r\n        padding: '10px',\r\n        fontSize: '1.05rem',\r\n        \r\n        border: 'none',\r\n        backgroundColor: 'whitesmoke',\r\n        resize: 'none',\r\n        outline: 'none',\r\n    },\r\n\r\n    image: {\r\n        display: 'flex', \r\n        flexDirection: 'column',\r\n        \r\n    }, \r\n    submit: {\r\n      \r\n        margin: '5px'\r\n    },\r\n    prevImage: {\r\n        position: 'relative',\r\n    },\r\n    closeImage: {\r\n        position: 'absolute',\r\n        fontSize: 'large',\r\n        color: 'blue',\r\n        backgroundColor: 'white',\r\n        right: '10px',\r\n        top: '5px',\r\n        borderRadius: '50%',\r\n        cursor: 'pointer'\r\n    },\r\n    prevFile: {\r\n        backgroundColor: '#ADDCFF',\r\n        position: 'relative', \r\n        padding: '5px 35px 5px 10px',\r\n        borderRadius: '20px',\r\n        margin:'5px 5px 5px 0'\r\n    }, \r\n    closeForm: {\r\n        position: 'absolute',\r\n        padding: '0 5px',\r\n        right: '0px',\r\n        cursor: 'pointer',\r\n    }, \r\n    paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        borderRadius: '10px',\r\n        boxShadow: theme.shadows[5],\r\n        width: '50%'\r\n        \r\n    },\r\n    filebase: {\r\n        color: 'blue',\r\n        display: 'none',\r\n    },\r\n    form__bottom: {\r\n        display: 'flex', \r\n        marginTop: '5px', \r\n        justifyContent: 'space-between',\r\n       \r\n    }\r\n}))","import React, { useState, useEffect } from 'react'\r\nimport useStyles from './styles'\r\nimport { Avatar, Button, CircularProgress } from \"@material-ui/core\"\r\nimport FileBase from 'react-file-base64'\r\n// import ImageIcon from '@material-ui/icons/Image';\r\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\r\nimport HighlightOffTwoToneIcon from '@material-ui/icons/HighlightOffTwoTone';\r\n// import Publish from '@material-ui/icons/Publish';\r\n\r\nimport { useDispatch } from 'react-redux'\r\nimport { createPost } from '../../../../actions/posts'\r\n// import ReactEmoji from 'react-emoji'\r\nimport InputEmoji from \"react-input-emoji\";\r\n\r\n\r\nconst MAX_SIZE = 1 * 1000;\r\nlet totalSize = 0;\r\n\r\nconst Form = ({ user, setOpen, socket }) => {\r\n    const [content, setContent] = useState('')\r\n    const [postData, setPostData] = useState({\r\n        message: '',\r\n        creator: user?.result?.email,\r\n        selectedFile: []\r\n    })\r\n    const [isMaxSize, setIsMaxSize] = useState(false)\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const dispatch = useDispatch();\r\n    const classes = useStyles()\r\n\r\n    const handleFile = (files) => setPostData({ ...postData, selectedFile: files })\r\n\r\n    useEffect(() => {\r\n\r\n        postData.selectedFile.forEach(file => {\r\n            if (file.size.split(' ')[1] === 'kB')\r\n                totalSize += Number(file.size.split(' ')[0])\r\n            else\r\n                totalSize += 1024 * Number(file.size.split(' ')[0])\r\n\r\n        })\r\n        if (totalSize > MAX_SIZE)\r\n            setIsMaxSize(true)\r\n        else setIsMaxSize(false)\r\n        totalSize = 0;\r\n    }, [postData.selectedFile])\r\n\r\n    const handleCloseImage = (nameFile) => {\r\n        const files = postData.selectedFile.filter(file => file.name !== nameFile)\r\n        setPostData({ ...postData, selectedFile: files })\r\n\r\n    }\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n        // console.log(postData)\r\n        // console.log(Content());\r\n        // console.log(content)\r\n        await setPostData({ ...postData, message: content })\r\n        \r\n    \r\n        try {\r\n            setIsLoading(true)\r\n            const res = await dispatch(createPost(postData, content))\r\n            setOpen(false)\r\n\r\n            setIsLoading(false)\r\n            const postId = res?._id;\r\n            setContent('')\r\n            socket.emit('newPost', { postId }, () => {\r\n\r\n            })\r\n\r\n\r\n        } catch (error) {\r\n            setOpen(false)\r\n            setContent('')\r\n            setIsLoading(false)\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            {\r\n                isLoading\r\n                    ? <div style={{ display: 'flex', placeItems: 'center' }}><CircularProgress /></div>\r\n                    :\r\n                    <div className={classes.paper}>\r\n                        <form autoComplete=\"off\" noValidate className={classes.form} onSubmit={handleSubmit}>\r\n                            <div className={classes.header}>\r\n                                Tạo bài viết\r\n                            </div>\r\n                            <div className={classes.body}>\r\n                                <div className={classes.top}>\r\n                                    <Avatar className={classes.avatar}>{user?.result?.email[0]}</Avatar>\r\n                                    <div className={classes.info}>\r\n                                        <div style={{ fontWeight: 'bold' }}>{user?.result?.email}</div>\r\n                                        <div className={classes.detail}>\r\n                                            <SupervisorAccountIcon style={{ fontSize: 'medium' }} />\r\n                                            <div style={{ marginLeft: '5px', fontSize: '0.9rem', color: 'gray' }}>Bạn bè</div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"main-create-form\">\r\n                                    {/* <textarea\r\n                                        onChange={(e) => setPostData({ ...postData, message: e.target.value })}\r\n                                        value={postData.message}\r\n                                        autoFocus\r\n                                        name=\"message\"\r\n                                        rows=\"4\"\r\n                                        cols=\"50\"\r\n                                        className={classes.input_text}\r\n                                        placeholder=\"Bạn đang nghĩ gì thế?\"\r\n                                    /> */}\r\n                                    <InputEmoji\r\n                                        style={{ backgroundColor: 'whitesmoke' }}\r\n                                        value={content}\r\n                                        onChange={setContent}\r\n                                        name=\"content\"\r\n                                        placeholder=\"Bạn đang nghĩ gì thế?\"\r\n\r\n                                    />\r\n                                    <div className={classes.image} >\r\n                                        <div style={{ display: 'flex', overflow: 'auto', width: '100%' }}>\r\n                                            {/* <PrevImage /> */}\r\n                                            {\r\n                                                postData.selectedFile.map(file => {\r\n                                                    if (file.type.includes(\"image\")) {\r\n                                                        return <div key={file.name} className={classes.prevImage}>\r\n                                                            <img src={file.base64} style={{ height: '100px', marginRight: '5px', objectFit: 'contain' }} alt='' />\r\n                                                            <HighlightOffTwoToneIcon className={classes.closeImage} onClick={() => handleCloseImage(file.name)} />\r\n                                                        </div>\r\n                                                    } else return null;\r\n                                                })\r\n                                            }\r\n                                        </div>\r\n                                        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', width: '485px' }}>\r\n                                            {/* <PrevFile />     */}\r\n                                            {\r\n                                                postData.selectedFile.map(file => {\r\n                                                    if (!file.type.includes(\"image\")) {\r\n                                                        return <div key={file.name} className={classes.prevFile}>\r\n                                                            {file.name}\r\n                                                            <HighlightOffTwoToneIcon className={classes.closeImage} onClick={() => handleCloseImage(file.name)} />\r\n                                                        </div>\r\n                                                    } else return null;\r\n                                                })\r\n                                            }\r\n                                        </div>\r\n                                        {\r\n                                            !postData.selectedFile.length &&\r\n                                            <div className={classes.form__bottom}>\r\n                                                <div style={{ fontSize: 'medium' }}>Thêm tệp</div>\r\n                                                \r\n                                                <FileBase\r\n                                                    className={classes.filebase}\r\n                                                    name=\"selectedFile\"\r\n                                                    type=\"file\"\r\n                                                    multiple={true}\r\n                                                 \r\n                                                    onDone={handleFile}\r\n                                                />\r\n                                            </div>\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            {isMaxSize && <div style={{ color: 'red', fontStyle: 'italic', margin: '5px' }}>Vượt quá kích thước cho phép</div>}\r\n\r\n                            <Button disabled={(content.trim() === '' && postData.selectedFile.length === 0) || isMaxSize} type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit}>\r\n                                Đăng\r\n                            </Button>\r\n\r\n                            <HighlightOffTwoToneIcon className={classes.closeForm} onClick={() => setOpen(false)} />\r\n\r\n                        </form>\r\n                    </div>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Form","import { Avatar, Paper } from '@material-ui/core'\r\nimport React, { useState } from 'react'\r\nimport useStyles from './styles'\r\nimport VideocamIcon from '@material-ui/icons/Videocam';\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport EmojiEmotionsOutlinedIcon from '@material-ui/icons/EmojiEmotionsOutlined';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport Form from './Form/Form'\r\n\r\nconst CreatePost = ({ user, socket }) => {\r\n    const [open, setOpen] = useState(false);\r\n\r\n\r\n    const classes = useStyles()\r\n\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <Paper className={classes.createPost}>\r\n\r\n            <div className={classes.header__createPost}>\r\n                <Avatar>{user?.result?.email[0]}</Avatar>\r\n                <form className={classes.form___createPost}>\r\n                    <input\r\n                        readOnly\r\n                        onClick={handleOpen}\r\n                        className={classes.input__createPost}\r\n                        type=\"text\" placeholder=\"Bạn đang nghĩ gì?\"\r\n                    />\r\n                </form>\r\n            </div>\r\n            <div className={classes.options__createPost}>\r\n                <div className={classes.option}>\r\n                    <VideocamIcon style={{ color: 'red' }} />\r\n                    <h3 style={{ fontSize: 'medium', marginLeft: '10px' }}>Video trực tiếp</h3>\r\n                </div>\r\n                <div className={classes.option}>\r\n                    <ImageIcon style={{ color: 'green' }} />\r\n                    <h3 style={{ fontSize: 'medium', marginLeft: '10px' }}>Ảnh/Video</h3>\r\n                </div>\r\n                <div className={classes.option}>\r\n                    <EmojiEmotionsOutlinedIcon style={{ color: 'orange' }} />\r\n                    <h3 style={{ fontSize: 'medium', marginLeft: '10px' }}>Cảm xúc/Hoạt động</h3>\r\n                </div>\r\n\r\n            </div>\r\n            {\r\n                open &&\r\n                <Modal\r\n                    aria-labelledby=\"transition-modal-title\"\r\n                    aria-describedby=\"transition-modal-description\"\r\n                    className={classes.modal}\r\n                    open={open}\r\n\r\n                    closeAfterTransition\r\n                    BackdropComponent={Backdrop}\r\n                    BackdropProps={{\r\n                        timeout: 500,\r\n                    }}\r\n                >\r\n                    <Fade in={open}>\r\n                        <Form user={user} setOpen={setOpen} socket={socket} />\r\n                    </Fade>\r\n                </Modal>\r\n            }\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default CreatePost\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n}));","import React, { useEffect } from 'react';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport useStyles from './styles';\r\nimport { NEW_POST, CREATE } from '../../constants/actionTypes';\r\n\r\nconst CustomizedSnackbar = ({ socket, getRefs }) => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch()\r\n    const { newPost } = useSelector(state => state.posts)\r\n\r\n    useEffect(() => {\r\n        if (socket) {\r\n            socket.on('notification', async ({ error, post }) => {\r\n                if (error) {\r\n                    alert(error)\r\n                }\r\n                if (post) {\r\n                    // console.log(post);\r\n                    await dispatch({ type: NEW_POST, payload: { is: true, postId: post?._id, postEmail: post?.creator } })\r\n                    await dispatch({ type: CREATE, payload: post })\r\n                    await getRefs()\r\n                }\r\n            })\r\n        }\r\n        return () => {\r\n            if(socket) socket.off('notification')\r\n        }\r\n    }, [dispatch, socket])\r\n\r\n\r\n    const handleClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        dispatch({ type: NEW_POST, payload: { is: false, postId: null } })\r\n\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Snackbar\r\n                anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                open={newPost.is} autoHideDuration={3000} onClose={handleClose}>\r\n                <MuiAlert onClose={handleClose} severity=\"success\" elevation={6} variant=\"filled\">{newPost.postEmail && `${newPost?.postEmail} có bài đăng mới`}</MuiAlert>\r\n            </Snackbar>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CustomizedSnackbar;","export default __webpack_public_path__ + \"static/media/bell.7f6b1105.gif\";","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  root: {\r\n    position: 'fixed',\r\n    bottom: theme.spacing(2),\r\n    right: theme.spacing(2),\r\n    \r\n    zIndex: 12, \r\n  },\r\n \r\n  image: {\r\n    borderRadius: '50%', \r\n    height: '60px', \r\n    border: '2px solid lightgray', \r\n    [theme.breakpoints.down('xs')]: {\r\n      height: '40px',\r\n    },\r\n    \r\n  }, \r\n  hidden: {\r\n    position: 'fixed',\r\n    bottom: theme.spacing(-50),\r\n    right: theme.spacing(-50),\r\n  },\r\n}));","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  root: {\r\n    position: 'fixed',\r\n    bottom: theme.spacing(12),\r\n    right: theme.spacing(3),\r\n    border: `2px solid lightgray`,\r\n    maxWidth: '400px',\r\n    background: 'whitesmoke',\r\n    borderRadius: '6px',\r\n    maxHeight: '500px',\r\n    overflow: 'auto', \r\n    zIndex: 14,\r\n    [theme.breakpoints.down('xs')]: {\r\n      bottom: theme.spacing(9),\r\n    },\r\n    animation: `$myEffect 1000ms`,\r\n  },\r\n  \"@keyframes myEffect\": {\r\n    \"0%\": {\r\n      opacity: 0,\r\n      transform: \"translateX(100%)\"\r\n    },\r\n    \"100%\": {\r\n      opacity: 1,\r\n      transform: \"translateX(0)\"\r\n    }\r\n  },\r\n  notification: {\r\n    padding: '10px',\r\n\r\n    '&:hover': {\r\n      background: `lightgray`,\r\n      cursor: 'pointer'\r\n\r\n    }\r\n  },\r\n  truncate: {\r\n    maxWidth: '60px',\r\n    whiteSpace: 'nowrap',\r\n    overflow: 'hidden',\r\n    textOverflow: 'ellipsis',\r\n  },\r\n  customSpan: {\r\n    // marginBotton: '5px',\r\n    '& span': {\r\n      fontWeight: 'bold',\r\n    },\r\n    '& span img': {\r\n      verticalAlign: 'middle',\r\n    }\r\n  }\r\n}));","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Typography } from '@material-ui/core'\r\nimport { CHILD_CLICKED, DELETE_NOTIFICATION, SHOW_COMMENT } from '../../../constants/actionTypes'\r\nimport useStyles from './styles';\r\nimport ReactEmoji from 'react-emoji'\r\n\r\n\r\n\r\nconst Notificaion = ({ open, notifications }) => {\r\n    const classes = useStyles();\r\n    // const [isFake, setIsFake] = useState(false)\r\n\r\n    const dispatch = useDispatch();\r\n    const { isComments } = useSelector(state => state.posts)\r\n\r\n    return (\r\n        open ?\r\n            <div className={classes.root}>\r\n                {\r\n                    notifications.map((noti, i) => (\r\n                        <div key={i}\r\n                            onClick={() => {\r\n                                // alert('vao childclick')\r\n\r\n                                dispatch({ type: CHILD_CLICKED, payload: noti?.indexPost })\r\n\r\n\r\n                                dispatch({ type: DELETE_NOTIFICATION, payload: i })\r\n                                if (noti.type === \"COMMENT\") {\r\n                                    if (!isComments[i]) {\r\n                                        dispatch({ type: SHOW_COMMENT, payload: { indexPost: Number(noti?.indexPost), indexOfSubCmt: Number(noti.indexOfSubCmt), idCmtPrev: noti.idCmtPrev } })\r\n                                        // console.log('showComment ', showComment)\r\n\r\n                                    }\r\n                                } else if (noti.type === \"SUB_COMMENT\") {\r\n\r\n                                    dispatch({ type: SHOW_COMMENT, payload: { indexPost: Number(noti?.indexPost), indexOfSubCmt: Number(noti.indexOfSubCmt), idCmtPrev: noti.idCmtPrev } })\r\n                                    // console.log('showSubComment ', showComment)\r\n                                } else if (noti.type === \"LIKE\") {\r\n                                    // dispatch({ type: SHOW_COMMENT, payload: { indexPost: '', indexOfSubCmt: -1, idCmtPrev: '' } })\r\n\r\n\r\n                                }\r\n\r\n                            }}\r\n                            className={classes.notification}\r\n                        >\r\n\r\n                            {\r\n                                noti.type === \"COMMENT\"\r\n                                    ?\r\n                                    <div className={classes.customSpan}>\r\n                                        <strong>{noti.email}</strong> đã bình luận bài viết &nbsp;\r\n                                        <span>\r\n                                            {noti.title.length >= 10\r\n                                                ?\r\n                                                noti.title[9] !== ':'\r\n                                                    ?\r\n                                                    ReactEmoji.emojify(noti.title.substring(0, 10) + '...', { attributes: { width: '18px', height: '18px' } })\r\n                                                    :\r\n                                                    ReactEmoji.emojify(noti.title.substring(0, 9) + '...', { attributes: { width: '18px', height: '18px' } })\r\n                                                :\r\n                                                ReactEmoji.emojify(noti.title, { attributes: { width: '18px', height: '18px' } })}\r\n                                        </span>\r\n                                        &nbsp; mà bạn đã tương tác\r\n                                    </div>\r\n                                    :\r\n                                    noti.type === \"SUB_COMMENT\"\r\n                                        ?\r\n                                        <div className={classes.customSpan}>\r\n                                            <strong>{noti.email}</strong> đã phản hồi bình luận &nbsp;\r\n                                            <span >\r\n                                                {noti.dataCmtPrev.trim().length >= 10\r\n                                                    ?\r\n                                                    noti.dataCmtPrev[9] !== ':'\r\n                                                        ?\r\n                                                            ReactEmoji.emojify(noti.dataCmtPrev.substring(0, 10)+ '...', { attributes: { width: '18px', height: '18px' } })\r\n                                                        :\r\n                                                        ReactEmoji.emojify(noti.dataCmtPrev.substring(0, 9) + '...', { attributes: { width: '18px', height: '18px' } }) \r\n                                                    :\r\n                                                    ReactEmoji.emojify(noti.dataCmtPrev, { attributes: { width: '18px', height: '18px' } })}\r\n                                            </span>\r\n                                            &nbsp; trong bài viết &nbsp;\r\n                                            <span>\r\n                                                {noti.title.length >= 10\r\n                                                    ?\r\n                                                    noti.title[9] !== ':'\r\n                                                        ?\r\n                                                        ReactEmoji.emojify(noti.title.substring(0, 10) + '...', { attributes: { width: '18px', height: '18px' } })\r\n                                                        :\r\n                                                        ReactEmoji.emojify(noti.title.substring(0, 9) + '...', { attributes: { width: '18px', height: '18px' } })\r\n                                                    :\r\n                                                    ReactEmoji.emojify(noti.title, { attributes: { width: '18px', height: '18px' } })}\r\n                                            </span>\r\n                                            &nbsp; mà bạn đã tương tác\r\n                                        </div>\r\n                                        : noti.type === \"LIKE\"\r\n                                            ?\r\n                                            <div className={classes.customSpan}>\r\n                                                <strong>{noti.email}</strong> đã thích trong bài viết &nbsp;\r\n                                                <span>\r\n                                                    {noti.title.length >= 10\r\n                                                        ?\r\n                                                        noti.title[9] !== ':'\r\n                                                            ?\r\n                                                            ReactEmoji.emojify(noti.title.substring(0, 10) +'...', { attributes: { width: '18px', height: '18px' } })\r\n                                                            :\r\n                                                            ReactEmoji.emojify(noti.title.substring(0, 9) + '...', { attributes: { width: '18px', height: '18px' } })\r\n                                                        :\r\n                                                        ReactEmoji.emojify(noti.title, { attributes: { width: '18px', height: '18px' } })}\r\n                                                </span>\r\n                                                &nbsp; mà bạn đã tương tác\r\n                                            </div>\r\n                                            : null\r\n\r\n                            }\r\n\r\n                            {\r\n                                (noti.type === \"COMMENT\" || noti.type === \"SUB_COMMENT\") &&\r\n                                < Typography gutterBottom\r\n                                    variant='body2'\r\n                                    color=\"primary\"\r\n                                    style={{\r\n                                        marginTop: '5px',\r\n                                        fontSize: '0.8rem',\r\n                                        maxWidth: '350px',\r\n                                        whiteSpace: 'nowrap',\r\n                                        overflow: 'hidden',\r\n                                        textOverflow: 'ellipsis',\r\n                                        display: 'flex',\r\n                                        alignSelf: 'center',\r\n                                    }}\r\n                                >\r\n                                    {ReactEmoji.emojify(noti.data, { attributes: { width: '18px', height: '18px' } })}\r\n                                </Typography>\r\n                            }\r\n                        </div>\r\n                    ))\r\n                }\r\n            </div > : null\r\n    );\r\n};\r\n\r\nexport default Notificaion;","import React, {useEffect} from 'react';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Bell from '../../assets/bell.gif'\r\nimport useStyles from './styles'\r\nimport Notification from './Notification/Notification'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { NOTIFICATION as Noti, UPDATE, UPDATE_CMT } from '../../constants/actionTypes';\r\n\r\nconst StyledBadge = withStyles((theme) => ({\r\n  badge: {\r\n    top: '15%',\r\n    right: '10%',\r\n    border: `2px solid lightgray`,\r\n    padding: '4px',\r\n  },\r\n\r\n}))(Badge);\r\n\r\n\r\n\r\n\r\nexport default function CustomizedNotification({ socket }) {\r\n  const [open, setOpen] = React.useState(false);\r\n  const { notifications } = useSelector(state => state.posts)\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles()\r\n\r\n  useEffect(() => {\r\n    if (socket) {\r\n      socket.on('interaction', ({ error, title, email, data, indexPost,type,dataCmtPrev, indexOfSubCmt, idCmtPrev }) => {\r\n        if (error) {\r\n          alert(error)\r\n        }\r\n        // console.log( title, email, data, indexPost )\r\n        if(type === \"COMMENT\"){\r\n          // console.log(title, email, data, indexPost,type,dataCmtPrev, indexOfSubCmt, idCmtPrev)\r\n          dispatch({ type: Noti, payload: { email, data, title, indexPost, type, dataCmtPrev: '', indexOfSubCmt: -1, idCmtPrev: '' } })\r\n        }else if( type === \"SUB_COMMENT\"){\r\n          dispatch({ type: Noti, payload: { email, data, title, indexPost, type, dataCmtPrev, indexOfSubCmt, idCmtPrev } })\r\n        }else if(type === \"LIKE\"){\r\n          dispatch({ type: Noti, payload: { email, data, title, indexPost, type, dataCmtPrev: '', indexOfSubCmt: -1, idCmtPrev: '' } })\r\n        }\r\n      })\r\n    }\r\n    return () => {\r\n      if (socket) socket.off('interaction')\r\n    }\r\n  }, [dispatch, socket])\r\n\r\n  useEffect(() => {\r\n    if (socket) {\r\n      socket.on('res like', ({ data }) => {\r\n        dispatch({ type: UPDATE, payload: data })\r\n      })\r\n    }\r\n    return () => {\r\n      if (socket) socket.off('res like')\r\n    }\r\n  }, [dispatch, socket])\r\n\r\n  useEffect(() => {\r\n    if (socket) {\r\n      socket.on('res cmt', ({ idPost }) => {\r\n        dispatch({ type: UPDATE_CMT, payload: idPost })\r\n      })\r\n    }\r\n    return () => {\r\n      if (socket) socket.off('res cmt')\r\n    }\r\n  }, [dispatch, socket])\r\n\r\n  return (\r\n    \r\n    <div>\r\n      <Notification\r\n        open={open}\r\n        notifications={notifications}\r\n      />\r\n      {/* classNames(classes.post, newPost.is && newPost?.postId === post._id ? classes.newPost : null) */}\r\n      <IconButton aria-label=\"notification\" onClick={() => setOpen(!open)} className={ notifications.length > 0 ?  classes.root : classes.hidden}>\r\n        <StyledBadge badgeContent={notifications.length} color=\"secondary\">\r\n          <img src={Bell} className={classes.image} alt=\"\" />\r\n        </StyledBadge>\r\n      </IconButton>\r\n    </div>\r\n  );\r\n}","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n  customSpan: {\r\n    '& img': {\r\n      verticalAlign: 'middle',\r\n    }\r\n  }\r\n}));","import React, { useState, useEffect, createRef } from 'react'\r\nimport { Container, Grow, Grid, CircularProgress } from '@material-ui/core'\r\nimport useStyles from './styles'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { LOGOUT,DELETE, DELETE_NOTIFICATION } from '../../constants/actionTypes'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useLocation } from 'react-router'\r\nimport { getPosts } from '../../actions/posts'\r\nimport Profile from '../Profile/Profile'\r\nimport Post from './Post/Post'\r\nimport CreatePost from './CreatePost/CreatePost'\r\nimport decode from 'jwt-decode'\r\nimport io from 'socket.io-client'\r\nimport CustomizedSnackbar from '../CustomizedSnackbar/CustomizedSnackbar'\r\nimport CustomizedNotification from '../CustomizedNotification/CustomizedNotification'\r\nimport CustomizedDeletedPost from '../CustomizedDeletedPost/CustomizedDeletedPost'\r\n\r\n\r\n\r\nlet socket;\r\n\r\nconst Posts = () => {\r\n\r\n    const [user, setUser] = useState(JSON.parse(localStorage.getItem('profile')) ? JSON.parse(localStorage.getItem('profile')) : null)\r\n    const classes = useStyles()\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const location = useLocation()\r\n    const { posts, childClicked, isLoading, deletedPost, notifications } = useSelector((state) => state.posts)\r\n    const [elRefs, setElRefs] = useState([]);\r\n    const [changeRefs, setChangeRefs] = useState(-2);\r\n    const [commentToSocket, setCommentToSocket] = useState({\r\n        data: '',\r\n        prevCommentId: '',\r\n        totalSubcomment: 0,\r\n        _id: '',\r\n        idPost: '',\r\n        indexPost: -1\r\n    });\r\n\r\n    const [subCommentToSocket, setSubCommentToSocket] = useState({\r\n        data: '',\r\n        prevCommentId: '',\r\n        totalSubcomment: '',\r\n        _id: '',\r\n        index: -1,\r\n        idPost: ''\r\n    })\r\n\r\n    const [newSubCmtToSocket, setNewSubCmtToSocket] = useState({\r\n        idPost: '', i: -1, idComment: '', idSubCmt: ''\r\n    })\r\n\r\n    const [postDeleted, setPostDeleted] = useState({})\r\n\r\n    const ENDPOINT = 'https://thuc-tap-20203-1.herokuapp.com/'\r\n    // const ENDPOINT = 'http://localhost:5000/'\r\n\r\n\r\n    const handleLogout = () => {\r\n        dispatch({ type: LOGOUT })\r\n        history.push('/auth')\r\n    }\r\n    useEffect(() => {\r\n        // console.log('useEffect posts')\r\n\r\n        dispatch(getPosts())\r\n    }, [dispatch])\r\n\r\n    const getRefs = async () => {\r\n        if (changeRefs + 1 === posts.length) {\r\n            // console.log(\"add ref\")\r\n            await setElRefs((refs) => Array(posts.length).fill().map((_, i) => i === 0 ? createRef() : refs[i - 1]));\r\n        }\r\n        else if(changeRefs - 1 === posts.length && deletedPost !== -1) {\r\n            // console.log(\"delete ref\")\r\n            await setElRefs((refs) => Array(posts.length).fill().map((_, i) => i === deletedPost ? null : refs[i]));\r\n        }\r\n        else if(changeRefs !== posts.length ) \r\n        {\r\n            // console.log('refs all')\r\n            await setElRefs((refs) => Array(posts.length).fill().map((_, i) => createRef()));\r\n        }\r\n        await setChangeRefs(posts.length)\r\n    }\r\n    useEffect(() => {\r\n        // console.log(posts)\r\n        getRefs()\r\n\r\n    }, [posts]);\r\n\r\n\r\n    useEffect(() => {\r\n        // console.log('useEffect posts')\r\n\r\n        const token = user?.token;\r\n        if (token) {\r\n            const decodedToken = decode(token);\r\n            if (decodedToken.exp * 1000 < new Date().getTime()) return handleLogout();\r\n        }\r\n\r\n        setUser(JSON.parse(localStorage.getItem('profile')))\r\n        socket = io(ENDPOINT, {\r\n            auth: {\r\n                token: user?.token,\r\n                userID: user?.result?._id\r\n            },\r\n        })\r\n        // console.log(socket)\r\n        if (user) {\r\n            socket.emit('home', {}, ({ error, home }) => {\r\n                if (error) {\r\n                    alert(error)\r\n                }\r\n                socket.emit(\"set username\", {\r\n                    username: user?.result?.email\r\n                });\r\n            })\r\n        }else{\r\n            history.push('/auth')\r\n        }\r\n        return () => {\r\n            // dispatch({type: CLEAN_NOTIFICATION})\r\n            // dispatch({type: CHILD_CLICKED, payload: null})    \r\n            history.push('/auth')\r\n            socket.disconnect()\r\n            socket.off()\r\n        }\r\n    }, [location])\r\n    useEffect(() => {\r\n        if (socket) {\r\n            socket.on('comment', async ({ result: { data, prevCommentId, totalSubcomment, _id }, idPost, indexPost }) => {\r\n                setCommentToSocket({ data, prevCommentId, totalSubcomment, _id, idPost, indexPost })\r\n            })\r\n            return () => {\r\n                socket.off('comment')\r\n            }\r\n        }\r\n    }, [commentToSocket])\r\n\r\n    useEffect(() => {\r\n        if (socket) {\r\n            socket.on(\"connect_error\", (err) => {\r\n                console.log(err instanceof Error); // true\r\n                alert(err.message); // not authorized\r\n                localStorage.clear()\r\n                history.push('/auth')\r\n            });\r\n        }\r\n    }, [history])\r\n\r\n    useEffect(() => {\r\n        if (socket) {\r\n            socket.on('newSubCmt', async ({ idPost, i, idComment, idSubCmt }) => {\r\n\r\n                if (String(newSubCmtToSocket.idSubCmt) !== String(idSubCmt)) {\r\n\r\n                    // console.log('nhan', newSubCmtToSocket.idSubCmt)\r\n                    // console.log('socket ', idSubCmt)\r\n                    await setNewSubCmtToSocket({ ...newSubCmtToSocket, idPost, i, idComment, idSubCmt })\r\n                    // console.log(newSubCmtToSocket)\r\n                }\r\n            })\r\n            return () => {\r\n                socket.off('newSubCmt')\r\n            }\r\n        }\r\n    }, [newSubCmtToSocket])\r\n\r\n    useEffect(() => {\r\n        if (socket) {\r\n            socket.on('subComment', async ({ result: { data, prevCommentId, totalSubcomment, _id }, index, idPost }) => {\r\n                setSubCommentToSocket({ data, prevCommentId, totalSubcomment, _id, index, idPost })\r\n            })\r\n            return () => {\r\n                socket.off('subComment')\r\n            }\r\n        }\r\n    }, [subCommentToSocket])\r\n\r\n    \r\n    useEffect(() => {\r\n        if (socket) {\r\n            socket.on('received postDeleted', async ({ creatorPostDeleted ,indexPostDeleted ,idPostDeleted ,dataDeleted }) => {\r\n                if(posts && posts[indexPostDeleted]._id === idPostDeleted) {\r\n                    // console.log('nhan deleted')\r\n                    // await dispatch({type: DELETE, payload: idPostDeleted})\r\n                    // await dispatch({type: DELETED_POST, payload: Number(indexPostDeleted)})\r\n                    await dispatch({ type: DELETE, payload: {id: idPostDeleted, indexPost: indexPostDeleted }})\r\n                    notifications.forEach((noti, i) => {\r\n                        if(noti.indexPost === indexPostDeleted) {\r\n                            dispatch({ type: DELETE_NOTIFICATION, payload: i })\r\n                        }\r\n                    })\r\n                    await setPostDeleted({creatorPostDeleted, dataDeleted})\r\n                }\r\n            })\r\n            return () => {\r\n                socket.off('received postDeleted')\r\n            }\r\n        }\r\n    }, [dispatch, posts, notifications ])\r\n\r\n    return (\r\n        isLoading ? <div style={{ display: 'flex', padding: '5px', flexDirection: 'column', width: '100%', placeItems: 'center' }}><CircularProgress style={{ color: 'white' }} /></div>\r\n            :\r\n            <Grow in>\r\n                <Container component=\"main\" maxWidth=\"lg\" className={classes.posts}>\r\n                    {user ?\r\n                        <>\r\n                            <CustomizedSnackbar getRefs={getRefs} socket={socket} />\r\n                            <CustomizedNotification socket={socket} />\r\n                            {postDeleted && <CustomizedDeletedPost postDeleted={postDeleted} setPostDeleted={setPostDeleted} />}\r\n                            <Grid container justifyContent=\"center\" alignItems=\"stretch\" spacing={3}>\r\n                                <Grid item sm={12} md={3}>\r\n                                    <Profile user={user} socket={socket} handleLogout={handleLogout} />\r\n                                </Grid>\r\n                                <Grid item sm={12} md={8}>\r\n                                    <CreatePost\r\n                                        user={user}\r\n\r\n                                        socket={socket}\r\n                                    />\r\n                                    {posts.map((post, i) => (\r\n                                        <div ref={elRefs[i]} key={i} >\r\n                                            <Post\r\n                                                newSubCmtToSocket={newSubCmtToSocket}\r\n                                                setNewSubCmtToSocket={setNewSubCmtToSocket}\r\n                                                commentToSocket={commentToSocket}\r\n                                                setCommentToSocket={setCommentToSocket}\r\n                                                selected={Number(childClicked) === i}\r\n                                                refProp={elRefs[i]} key={post._id}\r\n                                                post={post}\r\n                                                socket={socket}\r\n                                                indexPost={i}\r\n                                                subCommentToSocket={subCommentToSocket}\r\n                                                setSubCommentToSocket={setSubCommentToSocket}\r\n                                            />\r\n                                        </div>\r\n                                    ))}\r\n                                </Grid>\r\n                            </Grid>\r\n                        </>\r\n                        :\r\n                        <Redirect to=\"/auth\" />\r\n                    }\r\n                </Container>\r\n\r\n            </Grow>\r\n    )\r\n}\r\n\r\nexport default Posts","import React from 'react';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport ReactEmoji from 'react-emoji'\r\nimport useStyles from './styles';\r\n\r\nconst CustomizedDeletedPost = ({ postDeleted, setPostDeleted }) => {\r\n    const classes = useStyles();\r\n\r\n    const handleClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        setPostDeleted({})\r\n\r\n    };\r\n\r\n    return (\r\n        \r\n            postDeleted.creatorPostDeleted ?\r\n        \r\n            <div className={classes.root}>\r\n                <Snackbar\r\n                    anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                    open={postDeleted} autoHideDuration={3000} onClose={handleClose}>\r\n                    <MuiAlert onClose={handleClose} severity=\"success\" elevation={6} variant=\"filled\">\r\n                        <strong>{postDeleted?.creatorPostDeleted}</strong> đã xóa bài viết &nbsp;\r\n                        <span className={classes.customSpan}>\r\n                            {postDeleted?.dataDeleted.length >= 10\r\n                                ?\r\n                                postDeleted?.dataDeleted[9] !== ':'\r\n                                    ?\r\n                                    ReactEmoji.emojify(postDeleted?.dataDeleted.substring(0, 10) + '...', { attributes: { width: '18px', height: '18px' } })\r\n                                    :\r\n                                    ReactEmoji.emojify(postDeleted?.dataDeleted.substring(0, 9) + '...', { attributes: { width: '18px', height: '18px' } })\r\n                                :\r\n                                ReactEmoji.emojify(postDeleted?.dataDeleted, { attributes: { width: '18px', height: '18px' } })}\r\n                        </span>\r\n                    </MuiAlert>\r\n                </Snackbar>\r\n            </div>\r\n            : null\r\n\r\n    );\r\n};\r\n\r\nexport default CustomizedDeletedPost;","import { makeStyles } from \"@material-ui/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n    appBar: {\r\n        display: 'flex',\r\n        borderRadius: 15,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        flexDirection: 'row'\r\n    }, \r\n    heading: {\r\n        color: 'rgba(0, 183, 255,1)',\r\n    },\r\n}))","import React from 'react'\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\r\nimport { AppBar, Container, Typography } from '@material-ui/core'\r\nimport Auth from './components/Auth/Auth'\r\nimport Posts from './components/Posts/Posts'\r\nimport useStyles from './styles';\r\nimport './App.css'\r\nconst App = () => {\r\n    //day la new branch\r\n\r\n    const classes = useStyles();\r\n    return (\r\n        <BrowserRouter>\r\n            <Container maxWidth=\"lg\">\r\n                <AppBar className={classes.appBar} position=\"static\" color=\"inherit\">\r\n                    <Typography variant=\"h2\" align=\"center\">Bài đăng</Typography>\r\n                </AppBar>\r\n                <Switch>\r\n                    <Route path='/' exact component={Posts} />\r\n                    <Route path='/auth' exact component={Auth} />\r\n                </Switch>\r\n            </Container>\r\n        </BrowserRouter>\r\n    )\r\n}\r\nexport default App;\r\n","import {AUTH, LOGOUT, START_LOADING, END_LOADING } from '../constants/actionTypes'\r\n\r\nconst auth =  (state = {authData: null, isLoading: true}, action) => {\r\n    switch (action.type) {\r\n        case START_LOADING: \r\n            return {...state, isLoading: true}\r\n        case END_LOADING: \r\n            return {...state, isLoading: false}\r\n        case AUTH:\r\n            localStorage.setItem('profile', JSON.stringify({...action?.data}))\r\n\r\n            return {...state, authData: null};\r\n        case LOGOUT: \r\n            localStorage.clear();\r\n            \r\n            return {...state, authData: null};\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\nexport default auth","import { NEW_POST, IS_COMMENT, UPDATE_CMT, DELETED_POST, DELETE_NOTIFICATION, SHOW_COMMENT, NOTIFICATION, CLEAN_NOTIFICATION, CHILD_CLICKED, START_LOADING, END_LOADING, COMMENT, FETCH_ALL, CREATE, DELETE, UPDATE } from '../constants/actionTypes'\r\n\r\nconst posts = (state = { childClicked: -1, updateNumberCmt: '', deletedPost: -1, isComments: [], notifications: [], newPost: {}, isLoading: false, posts: [], showComment: null }, action) => {\r\n    switch (action.type) {\r\n        case START_LOADING:\r\n            return { ...state, isLoading: true }\r\n        case END_LOADING:\r\n            return { ...state, isLoading: false }\r\n        case CHILD_CLICKED:\r\n            return { ...state, childClicked: action.payload }\r\n        case NOTIFICATION:\r\n            state.notifications.unshift(action.payload)\r\n            return { ...state }\r\n        case CLEAN_NOTIFICATION:\r\n            return { ...state, notifications: [] }\r\n        case DELETE_NOTIFICATION:\r\n            return { ...state, notifications: state.notifications.filter((noti, i) => i !== action.payload)}\r\n        case DELETED_POST: \r\n            return {...state, deletedPost: action.payload, posts: state.posts.filter((post, i) => i !== action.payload), isComments: state.isComments.filter((iC, i) => i !== Number(action.payload))}\r\n        case UPDATE_CMT: \r\n            return { ...state, updateNumberCmt: action.payload}\r\n        case NEW_POST:\r\n            return { ...state, newPost: action.payload }\r\n        case FETCH_ALL:\r\n            return { ...state, posts: action.payload, isComments: Array(action.payload.length).fill(false) };\r\n        case CREATE:\r\n            state.posts.unshift(action.payload)\r\n            state.isComments.unshift(false)\r\n            return { ...state };\r\n        case IS_COMMENT:\r\n            return { ...state, isComments: state.isComments.map((isCmt, i) => Number(i) === Number(action.payload) ? !isCmt : isCmt) };\r\n        case SHOW_COMMENT:\r\n            return { ...state, showComment: action.payload };\r\n        case COMMENT:\r\n            return { ...state, posts: state.posts.map(post => post._id === action.payload._id ? action.payload : post) };\r\n        case UPDATE:\r\n            return { ...state, posts: state.posts.map(post => post._id === action.payload._id ? action.payload : post) };\r\n        case DELETE:\r\n            return { ...state, posts: state.posts.filter(post => post._id !== action.payload.id), deletedPost: action.payload.indexPost, isComments: state.isComments.filter((iC, i) => i !== Number(action.payload.indexPost)) };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default posts","import { combineReducers } from \"redux\";\r\nimport auth from './auth'\r\nimport posts from './posts'\r\nexport default combineReducers({\r\n    auth, posts\r\n})","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport { createStore, applyMiddleware, compose } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport App from './App'\r\n\r\nimport reducers from './reducers'\r\n\r\nconst store = createStore(reducers, compose(applyMiddleware(thunk)))\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById('root')\r\n)"],"sourceRoot":""}