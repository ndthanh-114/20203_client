{"version":3,"sources":["components/Auth/styles.js","components/Auth/Input.js","constants/actionTypes.js","api/index.js","components/Posts/Posts.js","actions/auth.js","components/Auth/Auth.js","components/Posts/styles.js","actions/posts.js","components/Profile/styles.js","components/Profile/Profile.js","components/Posts/Post/styles.js","components/Posts/Post/Comment/styles.js","components/Posts/Post/OneRootComment/styles.js","components/Posts/Post/OneRootComment/OneRootComment.js","components/Posts/Post/Comment/Comment.js","components/Posts/Post/Post.js","components/Posts/CreatePost/styles.js","components/Posts/CreatePost/Form/styles.js","components/Posts/CreatePost/Form/Form.js","components/Posts/CreatePost/CreatePost.js","components/CustomizedSnackbar/styles.js","components/CustomizedSnackbar/CustomizedSnackbar.js","styles.js","App.js","reducers/auth.js","reducers/posts.js","reducers/index.js","index.js"],"names":["makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","padding","root","margin","avatar","backgroundColor","palette","secondary","main","form","width","submit","googleButton","marginBottom","Input","name","handleChange","label","autoFocus","type","handleShowPassword","Grid","item","xs","sm","TextField","onChange","variant","required","fullWidth","InputProps","endAdornment","InputAdornment","position","IconButton","onClick","AUTH","LOGOUT","CREATE","FETCH_ALL","DELETE","UPDATE","COMMENT","START_LOADING","NEW_POST","END_LOADING","API","axios","create","baseURL","interceptors","request","use","req","localStorage","getItem","headers","authorization","JSON","parse","token","socket","signin","formData","history","post","catch","error","alert","response","data","message","signup","fetchPostComment","id","get","fetchSubComments","idPost","idComment","createPost","newPost","deletePost","delete","likePost","patch","dispatch","a","api","result","password","push","console","log","Auth","isLoading","useSelector","state","auth","useState","isSignup","setIsSignup","classes","useStyles","email","confirmPassword","setFormData","showPassword","setShowPassword","useHistory","useDispatch","handleSubmit","e","preventDefault","target","value","style","placeItems","CircularProgress","color","Grow","in","Container","component","maxWidth","Paper","className","elevation","Avatar","Typography","onSubmit","container","Button","justifyContent","prevIsSignup","posts","getPosts","payload","clear","profile","positon","txt","options","icon","background","borderRadius","cursor","notifi","Profile","user","handleLogout","root_profile","animation","opacity","transform","post__top","post__topInfo","flex","post__delete","h3__topInfo","fontSize","date","post__avatar","marginRight","body","post__image","previousImage","top","left","nextImage","right","haveImage","fileOther","textDecoration","file","textAlign","post__options","borderTop","post__option","comments","commentsOuterContainer","commentsInnerContainer","form___comment","input__comment","border","resize","outline","list__comment","OneRootComment","c","i","isShowSubComments","totalSubcomments","setTotalSubcomments","setIsShowSubComments","isIsSendSub","setIsSendSub","subComment","setSubComment","subComments","setSubComments","useEffect","on","prevCommentId","totalSubcomment","_id","haveComment","length","String","emit","off","gap","map","sC","split","prevId","disabled","placeholder","hidden","Comment","isComment","handleDelete","isLoadingComment","opened","setIsLoadingComment","comment","setComment","openedSubCmt","setOpenedSubCmt","setComments","isUpdate","setIsUpdate","tmp","Array","fill","forEach","el","tmp2","count","Number","splice","slice","getSubComments","index","handleComment","showSubComment","iSSC","rs","totalSubCmt","gutterBottom","Post","setIsLoading","setOpened","setIsComment","isFake","setIsFake","lengthImage","setLengthImage","currentImage","setCurrentImage","postId","arrayImage","ContentImage","selectedFile","filter","includes","alt","src","base64","ContentFile","title","href","download","HaveLike","likes","find","like","handleLikePost","handleShowComment","classNames","is","creator","moment","createdAt","format","post__bottom","post__file","gridTemplateColumns","marginLeft","header__createPost","borderBottom","form___createPost","input__createPost","outlineWidth","options__createPost","option","modal","boxShadow","shadows","header","fontWeight","info","detail","input_text","image","prevImage","closeImage","prevFile","closeForm","filebase","totalSize","Form","setOpen","postData","setPostData","isMaxSize","setIsMaxSize","size","handleCloseImage","nameFile","files","res","autoComplete","noValidate","rows","cols","overflow","height","objectFit","multiple","onDone","fontStyle","trim","CreatePost","open","readOnly","Modal","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","CustomizedSnackbar","postEmail","handleClose","event","reason","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","severity","Posts","setUser","location","useLocation","decode","exp","Date","getTime","io","home","disconnect","md","to","appBar","heading","App","AppBar","align","path","exact","authData","action","setItem","stringify","unshift","combineReducers","store","createStore","reducers","compose","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.dc14e6eb.chunk.js","sourcesContent":["import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(2),\r\n  },\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  googleButton: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n}));","import React from 'react';\r\nimport { TextField, Grid, InputAdornment, IconButton } from '@material-ui/core';\r\n\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\n\r\nconst Input = ({ name, handleChange, label, autoFocus, type, handleShowPassword }) => (\r\n  <Grid item xs={12} sm={12}>\r\n    <TextField\r\n      name={name}\r\n      onChange={handleChange}\r\n      variant=\"outlined\"\r\n      required\r\n      fullWidth\r\n      label={label}\r\n      autoFocus={autoFocus}\r\n      type={type}\r\n      InputProps={name === 'password' ? {\r\n        endAdornment: (\r\n          <InputAdornment position=\"end\">\r\n            <IconButton onClick={handleShowPassword}>\r\n              {type === 'password' ? <Visibility /> : <VisibilityOff />}\r\n            </IconButton>\r\n          </InputAdornment>\r\n        ),\r\n      } : null}\r\n    />\r\n  </Grid>\r\n);\r\n\r\nexport default Input;","export const AUTH = 'AUTH'\r\nexport const LOGOUT  = 'LOGOUT'\r\nexport const CREATE  = 'CREATE'\r\nexport const FETCH_ALL  = 'FETCH_ALL'\r\nexport const DELETE  = 'DELETE'\r\nexport const UPDATE  = 'UPDATE'\r\nexport const COMMENT = 'COMMENT'\r\nexport const START_LOADING = 'START_LOADING'\r\nexport const NEW_POST = 'NEW_POST'\r\nexport const END_LOADING = 'END_LOADING'\r\n\r\n\r\n","import axios from 'axios'\r\n\r\nconst API = axios.create({baseURL:'https://thuc-tap-20203-1.herokuapp.com/' })\r\n// const API = axios.create({baseURL:'http://localhost:5000/' })\r\n\r\nAPI.interceptors.request.use(req => {\r\n    if(localStorage.getItem('profile')){\r\n        req.headers.authorization = `Bearer ${JSON.parse(localStorage.getItem('profile')).token}`\r\n    }\r\n    return req;\r\n})\r\n\r\n\r\nexport const signin = (formData, history) => API.post('/signin', formData).catch((error)=> alert(error.response.data.message))\r\nexport const signup = (formData, history) => API.post('/signup', formData).catch((error)=> alert(error.response.data.message))\r\nexport const fetchPosts = () => API.get('/posts');\r\nexport const fetchPostComment = (id) => API.get(`/posts/${id}`);\r\nexport const fetchSubComments = (idPost, idComment) => API.get(`/posts/${idPost}/comment/${idComment}`);\r\nexport const createPost = (newPost) => API.post('/posts', newPost);\r\nexport const deletePost = (id) => API.delete(`/posts/${id}`);\r\nexport const likePost = (id) => API.patch(`/posts/${id}/likePost`);\r\nexport const comment = (value, id) => API.post(`/posts/${id}/commentPost`, { value });","import React, { useState, useEffect } from 'react'\r\nimport { Container, Grow, Grid, CircularProgress } from '@material-ui/core'\r\nimport useStyles from './styles'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { LOGOUT } from '../../constants/actionTypes'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useLocation } from 'react-router'\r\nimport { getPosts } from '../../actions/posts'\r\nimport Profile from '../Profile/Profile'\r\nimport Post from './Post/Post'\r\nimport CreatePost from './CreatePost/CreatePost'\r\nimport decode from 'jwt-decode'\r\nimport io from 'socket.io-client'\r\nimport CustomizedSnackbar from '../CustomizedSnackbar/CustomizedSnackbar'\r\n\r\nlet socket;\r\n\r\nconst Posts = () => {\r\n\r\n    const [user, setUser] = useState(JSON.parse(localStorage.getItem('profile')) ? JSON.parse(localStorage.getItem('profile')) : null)\r\n    const classes = useStyles()\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const location = useLocation()\r\n    const { posts, isLoading } = useSelector((state) => state.posts)\r\n\r\n    const ENDPOINT = 'https://thuc-tap-20203-1.herokuapp.com/'\r\n    // const ENDPOINT = 'http://localhost:5000/'\r\n\r\n\r\n    const handleLogout = () => {\r\n        dispatch({ type: LOGOUT })\r\n        history.push('/auth')\r\n    }\r\n    useEffect(() => {\r\n        console.log('useEffect posts')\r\n\r\n        dispatch(getPosts())\r\n    }, [dispatch])\r\n\r\n    useEffect(() => {\r\n        console.log('useEffect posts')\r\n\r\n        const token = user?.token;\r\n        if (token) {\r\n            const decodedToken = decode(token);\r\n            if (decodedToken.exp * 1000 < new Date().getTime()) return handleLogout();\r\n        }\r\n\r\n        setUser(JSON.parse(localStorage.getItem('profile')))\r\n        socket = io(ENDPOINT)\r\n\r\n        if (user) {\r\n            socket.emit('home', {}, ({ error, home }) => {\r\n                if (error) {\r\n                    alert(error)\r\n                }\r\n\r\n            })\r\n        }\r\n        return () => {\r\n            history.push('/auth')\r\n            socket.disconnect()\r\n            socket.off()\r\n        }\r\n    }, [location])\r\n\r\n\r\n    return (\r\n        isLoading ? <div style={{ display: 'flex', padding: '5px', flexDirection: 'column', width: '100%', placeItems: 'center' }}><CircularProgress style={{ color: 'white' }} /></div>\r\n            :\r\n            <Grow in>\r\n                <Container component=\"main\" maxWidth=\"lg\" className={classes.posts}>\r\n                    {user ?\r\n                        <>\r\n                            <CustomizedSnackbar socket={socket} />\r\n                            <Grid container justifyContent=\"center\" alignItems=\"stretch\" spacing={3}>\r\n                                <Grid item sm={12} md={3}>\r\n                                    <Profile user={user} socket={socket} handleLogout={handleLogout} />\r\n                                </Grid>\r\n                                <Grid item sm={12} md={8}>\r\n                                    <CreatePost\r\n                                        user={user}\r\n\r\n                                        socket={socket}\r\n                                    />\r\n                                    {posts.map((post) => (\r\n                                        <Post key={post._id} post={post} socket={socket} />\r\n                                    ))}\r\n                                </Grid>\r\n                            </Grid>\r\n                        </>\r\n                        :\r\n                        <Redirect to=\"/auth\" />\r\n                    }\r\n                </Container>\r\n\r\n            </Grow>\r\n    )\r\n}\r\n\r\nexport default Posts","import {AUTH, START_LOADING, END_LOADING } from '../constants/actionTypes'\r\nimport * as api from '../api/index'\r\n\r\nexport const signin = (formData, history) => async (dispatch) => {\r\n    try {\r\n        dispatch({type: START_LOADING})\r\n        const {data} = await api.signin(formData, history)\r\n        \r\n        data.result.password = formData.password\r\n        dispatch({type: AUTH, data})\r\n        dispatch({type: END_LOADING})\r\n        history.push('/')\r\n    } catch (error) {\r\n        dispatch({type: END_LOADING})\r\n        console.log(error.message)\r\n    }\r\n}\r\n\r\nexport const signup = (formData, history) => async (dispatch) => {\r\n    try {\r\n        dispatch({type: START_LOADING})\r\n        const {data} = await api.signup(formData, history)\r\n        \r\n        data.result.password = formData.password\r\n        dispatch({type: AUTH, data})\r\n        dispatch({type: END_LOADING})\r\n        history.push('/')\r\n    } catch (error) {\r\n        dispatch({type: END_LOADING})\r\n        console.log(error.message)\r\n    }\r\n}","import React, { useState } from 'react'\r\nimport { Avatar, Button, Paper, Grid, Typography, Container, Grow,CircularProgress } from '@material-ui/core'\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\r\nimport useStyles from './styles'\r\nimport Input from './Input'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { signin, signup } from '../../actions/auth'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nconst Auth = () => {\r\n  const { isLoading } = useSelector(state => state.auth);\r\n  const [isSignup, setIsSignup] = useState(false);\r\n  const classes = useStyles();\r\n  const [formData, setFormData] = useState({\r\n    email: '', password: '', confirmPassword: ''\r\n  })\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  const history = useHistory()\r\n  const dispatch = useDispatch()\r\n\r\n  const handleShowPassword = () => setShowPassword(!showPassword);\r\n\r\n\r\n\r\n  const switchMode = () => {\r\n    setIsSignup((prevIsSignup) => !prevIsSignup);\r\n    setShowPassword(false);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      if (isSignup) {\r\n        dispatch(signup(formData, history));\r\n      } else {\r\n        dispatch(signin(formData, history));\r\n      }\r\n    } catch (error) {\r\n      history.push('/auth')\r\n    }\r\n\r\n\r\n  };\r\n\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value })\r\n  };\r\n\r\n  return (\r\n    isLoading ? <div style={{ display: 'flex', padding: '5px', flexDirection: 'column', width: '100%', placeItems: 'center' }}><CircularProgress style={{ color: 'white' }} /></div>\r\n      :\r\n      <Grow in>\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n          <Paper className={classes.paper} elevation={3}>\r\n            <Avatar className={classes.avatar}>\r\n              <LockOutlinedIcon />\r\n            </Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\">{isSignup ? 'Đăng ký' : 'Đăng nhập'}</Typography>\r\n            <form className={classes.form} onSubmit={handleSubmit}>\r\n              <Grid container spacing={2}>\r\n                <Input name=\"email\" label=\"Email Address\" handleChange={handleChange} type=\"email\" />\r\n                <Input name=\"password\" label=\"Password\" handleChange={handleChange} type={showPassword ? 'text' : 'password'} handleShowPassword={handleShowPassword} />\r\n                {isSignup && <Input name=\"confirmPassword\" label=\"Confirm Password\" handleChange={handleChange} type=\"password\" />}\r\n              </Grid>\r\n\r\n              <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit}>\r\n                {isSignup ? 'Đăng ký' : 'Đăng nhập'}\r\n              </Button>\r\n\r\n              <Grid container justifyContent=\"flex-end\">\r\n                <Grid item>\r\n                  <Button onClick={switchMode}>\r\n                    {isSignup ? 'Đã có tài khoản? Đăng nhập' : \"Chưa có tài khoản? Đăng ký\"}\r\n                  </Button>\r\n                </Grid>\r\n              </Grid>\r\n            </form>\r\n          </Paper>\r\n        </Container>\r\n      </Grow>\r\n  );\r\n}\r\n\r\nexport default Auth\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  posts: {\r\n    marginTop: '40px',\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(2),\r\n  },\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(3),\r\n  }\r\n}));","import * as api from '../api/index'\r\nimport { FETCH_ALL, COMMENT, CREATE, DELETE, UPDATE, START_LOADING, END_LOADING } from '../constants/actionTypes'\r\n\r\n\r\nexport const getPosts = () => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: START_LOADING })\r\n        const { data } = await api.fetchPosts();\r\n\r\n        dispatch({ type: FETCH_ALL, payload: data })\r\n        dispatch({ type: END_LOADING })\r\n    } catch (error) {\r\n\r\n        console.log(error.response)\r\n        dispatch({ type: END_LOADING })\r\n\r\n    }\r\n\r\n}\r\n\r\nexport const createPost = (newPost) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.createPost(newPost);\r\n        dispatch({ type: CREATE, payload: data })\r\n        console.log(data);\r\n        return data;\r\n    } catch (error) {\r\n        alert(`${error.response.data.message}`);\r\n        localStorage.clear()\r\n    }\r\n}\r\n\r\nexport const deletePost = (id) => async (dispatch) => {\r\n    try {\r\n        await api.deletePost(id);\r\n        dispatch({ type: DELETE, payload: id })\r\n    } catch (error) {\r\n        alert(`${error.response.data.message}`);\r\n        localStorage.clear()\r\n    }\r\n}\r\n\r\nexport const likePost = (id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.likePost(id);\r\n        dispatch({ type: UPDATE, payload: data })\r\n    } catch (error) {\r\n        alert('Bài viết không khả dụng')\r\n        dispatch(getPosts())\r\n    }\r\n}\r\n\r\nexport const commentPost = (value, id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.comment(value, id);\r\n\r\n        dispatch({ type: COMMENT, payload: data });\r\n\r\n        return data.comments;\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n};\r\n\r\nexport const loadPostComments = (id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.fetchPostComment(id);\r\n        console.log(data);\r\n        return data;\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n};","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n    profile: {\r\n        padding: '5px',\r\n        display: 'flex',\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        positon: 'fixed'\r\n    },\r\n    txt: {\r\n       marginBottom: '5px'\r\n    },\r\n    options: {\r\n        display: 'flex',\r\n        justifyContent: 'space-around',\r\n    },\r\n    icon: {\r\n        color: 'rgb(0,0,0,0.8)',\r\n        padding: '13px',\r\n        background: 'rgb(0,255,255,0.4)',\r\n        borderRadius: '50%',\r\n        '&:hover': {\r\n            background: 'rgb(0,255,255,0.5)',\r\n            cursor: 'pointer',\r\n        }\r\n    },\r\n    notifi: {\r\n        color: 'red',\r\n       \r\n    }\r\n}))","import React from 'react'\r\nimport { Paper, Button } from '@material-ui/core'\r\nimport useStyles from './styles'\r\n\r\nconst Profile = ({ user, handleLogout }) => {\r\n    \r\n    const classes = useStyles()\r\n  \r\n\r\n    return (\r\n        <div className={classes.root_profile}>\r\n            <Paper style={{ margin: '10px' }} className={classes.profile}>\r\n                <div className={classes.txt} >{`Email: ${user?.result?.email}`}</div>\r\n                <div className={classes.txt} >{`Mật khẩu: ${user?.result?.password}`}</div>\r\n                <Button onClick={handleLogout} color=\"secondary\" variant=\"contained\">\r\n                    Đăng xuất\r\n                </Button>\r\n            </Paper>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile\r\n","import { makeStyles } from \"@material-ui/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n    post: {\r\n        width: '100%',\r\n        marginTop: '15px',\r\n        padding: '5px',\r\n    },\r\n    newPost: {\r\n        animation: `$myEffect 3000ms`,\r\n    },\r\n    \"@keyframes myEffect\": {\r\n        \"0%\": {\r\n            opacity: 0,\r\n            transform: \"translateY(-200%)\"\r\n        },\r\n        \"100%\": {\r\n            opacity: 1,\r\n            transform: \"translateY(0)\"\r\n        }\r\n    },\r\n    post__top: {\r\n        display: 'flex',\r\n        position: 'relative',\r\n        alignItems: 'center',\r\n        padding: '0 5px',\r\n    },\r\n    post__topInfo: {\r\n        display: 'flex',\r\n        flex: '1',\r\n        alignItems: 'flex-start',\r\n        flexDirection: 'column',\r\n    },\r\n    post__delete: {\r\n        '&:hover': {\r\n            borderRadius: '999px',\r\n            backgroundColor: 'lightwhite',\r\n            cursor: 'pointer'\r\n        }\r\n    },\r\n    h3__topInfo: {\r\n        fontSize: 'large',\r\n    },\r\n    date: {\r\n        fontSize: '0.9rem',\r\n        color: 'gray',\r\n    },\r\n    post__avatar: {\r\n        marginRight: '10px',\r\n    },\r\n    body: {\r\n        padding: '0 10px 5px 10px',\r\n    }\r\n    ,\r\n    post__image: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n\r\n        position: 'relative',\r\n        background: 'whitesmoke',\r\n    },\r\n\r\n    previousImage: {\r\n        position: 'absolute',\r\n        cursor: 'pointer',\r\n        top: '45%',\r\n        left: '0',\r\n        padding: '5px',\r\n\r\n    },\r\n    nextImage: {\r\n        position: 'absolute',\r\n        cursor: 'pointer',\r\n        top: '45%',\r\n        right: '0',\r\n        padding: '5px',\r\n\r\n    },\r\n    icon: {\r\n\r\n        color: 'black',\r\n        opacity: '0.7'\r\n    },\r\n\r\n    haveImage: {\r\n\r\n        flex: '0.7',\r\n        width: '90%',\r\n    },\r\n    fileOther: {\r\n        textDecoration: 'none',\r\n        color: 'black',\r\n        margin: '5px',\r\n    },\r\n    file: {\r\n        backgroundColor: '#ADDCFF',\r\n        textAlign: 'center',\r\n        borderRadius: '10px',\r\n        padding: '2px',\r\n    },\r\n    post__options: {\r\n        borderTop: '1px solid lightgray',\r\n        display: 'flex',\r\n        justifyContent: 'space-evenly',\r\n        fontSize: 'medium',\r\n        color: 'gray',\r\n        cursor: 'pointer',\r\n        padding: '5px 5px 0 5px',\r\n    },\r\n    post__option: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        flex: '1',\r\n        '&:hover': {\r\n            backgroundColor: '#eff2f5',\r\n            borderRadius: '20px'\r\n        }\r\n    },\r\n    comments: {\r\n        marginTop: '5px',\r\n        borderTop: '1px solid lightgray'\r\n    },\r\n\r\n}))","import { makeStyles } from '@material-ui/core/styles'\r\n\r\nexport default makeStyles(theme => ({\r\n    commentsOuterContainer: {\r\n        padding: '5px',\r\n        display: 'flex',\r\n        alignItems: 'stretch',\r\n        flexDirection: 'column',\r\n    },\r\n    commentsInnerContainer: {\r\n        margin: '5px 0',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'flex-start',\r\n        \r\n    },\r\n    form___comment: {\r\n        display: 'flex',\r\n        borderRadius: '20px',\r\n    },\r\n    input__comment: {\r\n        flex: '1',\r\n        fontSize: 'medium',\r\n        padding: '10px',\r\n        border: 'none',\r\n        borderRadius: '15px',\r\n        backgroundColor: 'whitesmoke',\r\n        resize: 'none',\r\n        outline: 'none',\r\n    },\r\n    list__comment: {\r\n        padding: '5px 10px',\r\n        borderRadius: '15px',\r\n        backgroundColor: 'whitesmoke',\r\n        // wordBreak: 'break-all',\r\n        // wordWrap: 'break-word',\r\n    },\r\n}))","import {makeStyles} from '@material-ui/core/styles'\r\n\r\nexport default makeStyles((theme) => ({\r\n    \r\n    form___comment: {\r\n        display: 'flex',\r\n        borderRadius: '20px',\r\n    },\r\n    input__comment: {\r\n        flex: '1',\r\n        fontSize: 'medium',\r\n        padding: '10px',\r\n        border: 'none',\r\n        borderRadius: '15px',\r\n        backgroundColor: 'whitesmoke',\r\n        resize: 'none',\r\n        outline: 'none',\r\n    },\r\n    list__comment: {\r\n        padding: '5px 10px',\r\n        borderRadius: '15px',\r\n        backgroundColor: 'whitesmoke',\r\n        \r\n        // wordBreak: 'break-all',\r\n        // wordWrap: 'break-word',\r\n    },\r\n}))","import React, { useState, useEffect } from 'react'\r\nimport { Typography, CircularProgress } from '@material-ui/core'\r\nimport useStyles from './styles'\r\n//comment: data, prevId, _id, totalSub\r\n\r\nconst OneRootComment = ({ post, c, i, socket, idPost, email,  isShowSubComments, setTotalSubcomments, totalSubcomments, setIsShowSubComments }) => {\r\n    const [isIsSendSub, setIsSendSub] = useState(false)\r\n    const [subComment, setSubComment] = useState('')\r\n    const [subComments, setSubComments] = useState(post?.subComments)\r\n    const classes = useStyles()\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        socket.on('subComment', async ({ result: { data, prevCommentId, totalSubcomment, _id } }) => {\r\n            console.log(subComments)\r\n            if (subComments || subComments === []) {\r\n                let haveComment = false;\r\n                for (let i = 0; i < subComments.length; i++) {\r\n                    if (String(subComments[i]._id) === String(_id)) {\r\n                        haveComment = true;\r\n                        break;\r\n                    }\r\n                }\r\n                // alert(haveComment)\r\n                if (!haveComment) {\r\n                    await setSubComments([...subComments, { data, prevCommentId, totalSubcomment, _id }])\r\n                    if (totalSubcomments.length > i) {\r\n                        // let count = totalSubcomments[i] + 1;\r\n                        // let tmp = totalSubcomments.splice(i, 1, count);\r\n                        // post.comments[i].totalSubcomment = totalSubcomments[i];\r\n                        // await setTotalSubcomments(totalSubcomments)\r\n                        if (post.subComments) {\r\n                            post.subComments.push({ data, prevCommentId, totalSubcomment, _id })\r\n                            \r\n                            socket.emit('increSubCmt', ({ idPost, i}))\r\n                        }\r\n                    }\r\n                }\r\n\r\n            }\r\n            console.log(totalSubcomments)\r\n            console.log(subComments)\r\n        })\r\n        return()=>{\r\n            socket.off('subComment')\r\n        }\r\n    }, [])\r\n\r\n    const handleReply = (e) => {\r\n        e.preventDefault()\r\n        setIsSendSub(true);\r\n\r\n        if (subComment) {\r\n            const prevId = c._id;\r\n            socket.emit('send subComment', ({ email, idPost, data: subComment, prevId }), (error) => {\r\n                if (error) {\r\n                    alert(error)\r\n                }\r\n                setSubComment('')\r\n                setIsSendSub(false);\r\n            })\r\n        }\r\n    }\r\n    return (\r\n        \r\n        isShowSubComments[i] &&\r\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '5px 0' }}>\r\n            {subComments?.map(sC => (\r\n                <Typography className={classes.list__comment} key={sC._id} variant=\"subtitle2\" style={{ margin: '0 50px' }}>\r\n                    <strong>{sC?.data?.split('::: ')[0]}</strong><br />\r\n                    {sC?.data?.split('::: ')[1]}\r\n                </Typography>\r\n            ))}\r\n\r\n            < form className={classes.form___comment} style={{ margin: '0 50px' }} onSubmit={handleReply}>\r\n                <input\r\n                    disabled={isIsSendSub}\r\n                    className={classes.input__comment}\r\n                    value={subComment}\r\n                    autoFocus\r\n                    onChange={(e) => setSubComment(e.target.value)}\r\n                    name=\"subComment\"\r\n                    type=\"text\" placeholder=\"Viết bình luận\"\r\n                />\r\n                <button type=\"submit\" hidden>Send</button>\r\n                {isIsSendSub && <CircularProgress />}\r\n            </form>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default OneRootComment\r\n","import React, { useState, useEffect } from 'react';\nimport { Typography, CircularProgress } from '@material-ui/core/';\nimport { fetchSubComments } from '../../../../api'\nimport useStyles from './styles';\nimport OneRootComment from '../OneRootComment/OneRootComment';\n//comments: data, prevId, _id, totalSubComment\n\nconst Comment = ({ post, isComment, socket, handleDelete, opened, isLoadingComment, setIsLoadingComment }) => {\n    const user = JSON.parse(localStorage.getItem('profile'));\n    const [comment, setComment] = useState('');\n    let [openedSubCmt, setOpenedSubCmt] = useState(false)\n    const [comments, setComments] = useState(post?.comments);\n    const [isUpdate, setIsUpdate] = useState(false)\n    const [isShowSubComments, setIsShowSubComments] = useState([])\n    const [totalSubcomments, setTotalSubcomments] = useState([])\n    \n    // const [postSubComments, setPostSubComments] = useState([])\n    const classes = useStyles();\n    const email = user?.result?.email\n    const idPost = post._id\n\n\n\n    useEffect(() => {\n\n        let tmp = []\n        setIsShowSubComments([])\n       \n        tmp = Array(post?.comments.length).fill(false)\n        isShowSubComments.push(...tmp)\n        tmp = []\n        post?.comments.forEach(el => tmp.push(el.totalSubcomment))\n        setTotalSubcomments([...tmp])\n        console.log(\n            'start comment', isShowSubComments, totalSubcomments\n        )\n\n    }, [])\n\n    useEffect(() => {\n        console.log('useEffect comment')\n\n        socket.on('comment', async ({ result: { data, prevCommentId, totalSubcomment, _id } }) => {\n            const tmp = [...comments, { data, prevCommentId, totalSubcomment, _id }]\n\n            await setComments(tmp)\n            // console.log(totalSubcomments)\n            // totalSubcomments.push(totalSubcomment)\n\n            console.log(comments)\n            // post.comments = comments\n            post.comments.push({ data, prevCommentId, totalSubcomment, _id })\n            let tmp2 = []\n            post?.comments.forEach(el => tmp2.push(el.totalSubcomment))\n            await setTotalSubcomments([...tmp2])\n            console.log(totalSubcomments)\n        })\n        return () => {\n            socket.off('comment')\n        }\n    }, [])\n\n    useEffect(() => {\n        socket.on('newSubCmt', async ({ i }) => {\n            let tmp2 = []\n            post?.comments.forEach(el => tmp2.push(el.totalSubcomment))\n            // console.log(tmp2) //[1,2,3]\n            \n            // console.log(tmp2);\n            totalSubcomments.push(...tmp2) //no ra [] ??\n            // console.log(totalSubcomments)\n            // console.log(i);\n            if (totalSubcomments || totalSubcomments === []) {\n                let count = totalSubcomments[Number(i)] + 1;\n                let tmp = totalSubcomments.splice(Number(i), 1, count);\n                post.comments[Number(i)].totalSubcomment = totalSubcomments[Number(i)];\n                totalSubcomments.splice(tmp2.length)\n                await setTotalSubcomments(totalSubcomments.slice(0))\n                // alert(totalSubcomments)\n            }\n        })\n        return () => {\n            socket.off('newSubCmt')\n        }\n    }, [])\n\n\n    const getSubComments = async (index, idComment) => {\n        const { data } = await fetchSubComments(idPost, idComment);\n        console.log(data);\n        return data;\n    }\n\n    const totalSubCmt = () => {\n        let rs = 0;\n        if (totalSubcomments?.length) totalSubcomments.forEach(el => rs += el)\n        else return 0;\n        return rs;\n    }\n\n\n    // use socket\n    const handleComment = async (e) => {\n        e.preventDefault()\n        setIsUpdate(true);\n\n        if (comment) {\n            const prevId = ''\n            socket.emit('send comment', ({ email, idPost, data: comment, prevId }), (error) => {\n                if (error) {\n                    alert(error)\n                    handleDelete()\n                }\n                setComment('')\n                setIsUpdate(false);\n            })\n        }\n    };\n\n    const showSubComment = async (index, idComment) => {\n        if (index >= isShowSubComments.length) {\n            let tmp = Array(index - isShowSubComments.length + 1).fill(false)\n            // console.log(tmp)\n            setIsShowSubComments(isShowSubComments.push(...tmp))\n            // console.log('ra')\n        }\n        try{\n            await setIsShowSubComments(isShowSubComments?.map((iSSC, i) => i === index ? !iSSC : false));\n            setOpenedSubCmt(true)\n            openedSubCmt = true\n            console.log('openedSubCmt', openedSubCmt)\n            const data = await getSubComments(index, idComment)\n            post.subComments = data;\n        }catch(error){\n\n        }finally{\n            setOpenedSubCmt(false)\n            openedSubCmt = false\n\n            console.log('openedSubCmt', openedSubCmt)\n        }\n        console.log(isShowSubComments)\n    }\n\n    return (\n        <div >\n            <div className={classes.commentsOuterContainer} >\n\n                {!isLoadingComment ?\n                    <>\n                        <Typography variant=\"subtitle2\">{comments.length + totalSubCmt()} lượt bình luận</Typography>\n                        <div className={classes.commentsInnerContainer} >\n                            {\n                                comments?.map((c, i) => (\n                                    <div key={i} style={{ padding: '5px 10px', display: 'flex', flexDirection: 'column', width: '95%' }}>\n                                        <div style={{ display: 'flex', alignItems: \"center\", gap: '0 10px' }}>\n                                            <Typography gutterBottom variant=\"subtitle2\" className={classes.list__comment}>\n                                                <strong>{c?.data?.split('::: ')[0]}</strong><br />\n                                                {c?.data?.split('::: ')[1]}\n                                            </Typography>\n                                            {\n                                                totalSubcomments[i] <= 0 &&\n                                                <Typography\n                                                    variant='body2'\n                                                    onClick={() => {\n                                                        const idComment = c._id;\n                                                        showSubComment(i, idComment)\n                                                    }}\n                                                    style={{ width: '130px', cursor: 'pointer', display: 'flex', justifyContent: 'start', fontSize: '0.8rem' }} >\n                                                    Trả lời\n                                                </Typography>\n                                            }\n                                        </div>\n                                        {\n                                            totalSubcomments[i] > 0 &&\n                                            <Typography\n                                                variant='body2'\n                                                onClick={() => {\n                                                    const idComment = c._id;\n                                                    showSubComment(i, idComment)\n                                                }}\n                                                style={{ cursor: 'pointer', display: 'flex', padding: '0px 5px', fontSize: '0.8rem' }}\n\n                                                color=\"primary\">\n                                                {!isShowSubComments[i] ? `${totalSubcomments[i]} lượt phản hồi` : \"Thu gọn\"}\n                                            </Typography>\n                                        }\n                                        {\n                                            \n                                            (isShowSubComments[i]) ?\n                                                openedSubCmt ? <CircularProgress fontSize=\"small\" /> : \n                                                <OneRootComment\n                                                    post={post}\n                                                    c={c}\n                                                    key={i}\n                                                    i={i}\n                                                    email={email}\n                                                    idPost={idPost}\n                                                    socket={socket}\n\n                                                    isShowSubComments={isShowSubComments}\n                                                    openedSubCmt={openedSubCmt}\n                                                    setIsShowSubComments={setIsShowSubComments}\n                                                    setTotalSubcomments={setTotalSubcomments}\n                                                    totalSubcomments={totalSubcomments}\n                                                /> : null\n                                        }\n                                    </div>\n                                ))\n                            }\n\n                        </div>\n                    </>\n                    :\n                    <div style={{ display: 'flex', padding: '5px', flexDirection: 'column', width: '100%', placeItems: 'center' }}><CircularProgress /></div>\n                }\n                <form className={classes.form___comment} onSubmit={handleComment}>\n                    <input\n                        disabled={isUpdate || isLoadingComment}\n                        className={classes.input__comment}\n                        value={comment}\n                        onChange={(e) => setComment(e.target.value)}\n                        name=\"comment\"\n                        type=\"text\" placeholder=\"Viết bình luận\"\n                    />\n                    <button type=\"submit\" hidden>Send</button>\n                    {isUpdate && <CircularProgress />}\n                </form>\n            </div>\n        </div>\n    );\n\n}\n\nexport default Comment\n","import React, { useState, useEffect } from 'react'\r\nimport { Avatar, Paper, CircularProgress } from '@material-ui/core'\r\nimport useStyles from './styles'\r\nimport ThumbUpAltOutlinedIcon from '@material-ui/icons/ThumbUpAltOutlined';\r\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\r\nimport ChatBubbleOutlineOutlinedIcon from '@material-ui/icons/ChatBubbleOutlineOutlined';\r\nimport ShareOutlinedIcon from '@material-ui/icons/ShareOutlined';\r\nimport moment from 'moment'\r\nimport { useDispatch } from 'react-redux'\r\nimport { deletePost, likePost } from '../../../actions/posts';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\r\nimport Comment from './Comment/Comment'\r\nimport { fetchPostComment } from '../../../api/index'\r\nimport {  useSelector } from 'react-redux'\r\nimport classNames from 'classnames'\r\n\r\n\r\nconst Post = ({ post, socket }) => {\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [opened, setOpened] = useState(false)\r\n    const [isComment, setIsComment] = useState(false)\r\n    const [isLoadingComment, setIsLoadingComment] = useState(false)\r\n    const [isUpdate, setIsUpdate] = useState(false)\r\n    const [isFake, setIsFake] = useState(false)\r\n    const classes = useStyles()\r\n    const dispatch = useDispatch()\r\n    const user = JSON.parse(localStorage.getItem('profile'))\r\n    const [lengthImage, setLengthImage] = useState(0)\r\n    const [currentImage, setCurrentImage] = useState(0)\r\n    const { newPost } = useSelector(state => state.posts) \r\n\r\n    useEffect(() => {\r\n        console.log('useEffect post')\r\n        if (isComment) {\r\n            const postId = post._id;\r\n            socket.emit('join', { postId, user }, ({ error, post }) => {\r\n                if (error) {\r\n                    alert(error)\r\n                }\r\n\r\n\r\n            })\r\n        }\r\n    }, [isComment, socket, post._id, user])\r\n\r\n    let arrayImage = []\r\n    const handleDelete = async () => {\r\n        try {\r\n            setIsLoading(true)\r\n            await dispatch(deletePost(post._id))\r\n            setIsLoading(false)\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    const ContentImage = () => {\r\n\r\n        if (post.selectedFile.length > 0) {\r\n            arrayImage = post.selectedFile.filter(function (file) {\r\n                return file.type.includes(\"image\");\r\n            })\r\n            setLengthImage(arrayImage.length)\r\n            if (arrayImage.length > 0)\r\n                return <img alt='' className={classes.haveImage} src={arrayImage[currentImage]?.base64} />\r\n        }\r\n        return false;\r\n    }\r\n    const ContentFile = () => {\r\n\r\n        if (post.selectedFile.length > 0) {\r\n            return <>\r\n                {post.selectedFile.map(file => {\r\n                    if (!file.type.includes(\"image\")) {\r\n                        return <a key={file.name} className={classes.fileOther} title={file.name} href={file.base64} download>\r\n                            <div key={file.name} className={classes.file}>{file.name}</div>\r\n                        </a>\r\n                    }else return null;\r\n                })}\r\n            </>\r\n        }\r\n        return false;\r\n    }\r\n\r\n    const changePrevImage = () => {\r\n        if (currentImage === 0) {\r\n            setCurrentImage(arrayImage.length - 1)\r\n        } else {\r\n            setCurrentImage(currentImage - 1)\r\n        }\r\n    }\r\n    const changeNextImage = () => {\r\n        if (currentImage === arrayImage.length - 1) {\r\n            setCurrentImage(0)\r\n        } else {\r\n            setCurrentImage(currentImage + 1)\r\n        }\r\n    }\r\n    // no socket\r\n    const HaveLike = () => {\r\n        if (post.likes.length > 0) {\r\n            return post.likes.find(like => like === user?.result?._id)\r\n                ? (\r\n                    <><ThumbUpAltIcon style={{ color: 'blue' }} /></>\r\n                ) : (\r\n                    <><ThumbUpAltOutlinedIcon /></>\r\n                )\r\n        }\r\n        return <><ThumbUpAltOutlinedIcon /></>\r\n    }\r\n    const handleLikePost = async () => {\r\n        try {\r\n            setIsUpdate(true)\r\n            await dispatch(likePost(post._id))\r\n\r\n        } catch (error) {\r\n\r\n        } finally {\r\n            setIsUpdate(false)\r\n        }\r\n    }\r\n\r\n    const handleShowComment =  async () => {\r\n        \r\n        if (!opened) {\r\n            setIsFake(true)\r\n            try {\r\n                setIsLoadingComment(true)\r\n                let {data} = await fetchPostComment(post._id)\r\n                console.log(data)\r\n                \r\n                if(data) {\r\n                    post.comments = data;\r\n                    console.log(\"...\");\r\n                    setOpened(true)\r\n                   \r\n                    \r\n                    setIsLoadingComment(false)\r\n                }\r\n            } catch (error) {\r\n                console.log(error)\r\n               \r\n                setIsLoadingComment(false)      \r\n            }\r\n            setIsFake(false)\r\n        }\r\n        \r\n        setIsComment(!isComment)\r\n\r\n    };\r\n    return (\r\n        <>\r\n            <Paper key={post._id} className={classNames(classes.post, newPost.is && newPost?.postId === post._id ? classes.newPost : null)}>\r\n                <div className={classes.post__top}>\r\n                    <Avatar className={classes.post__avatar}>{post.creator[0]}</Avatar>\r\n                    <div className={classes.post__topInfo}>\r\n                        <div className={classes.h3__topInfo}>{post.creator}</div>\r\n                        <div className={classes.date}>{moment(post.createdAt).format('L')}</div>\r\n                    </div>\r\n                    {user?.result?.email === post.creator &&\r\n                        <div className={classes.post__delete} onClick={handleDelete}>\r\n                            <DeleteIcon />\r\n                        </div>\r\n                    }\r\n                </div>\r\n                {\r\n                    isLoading ? <div style={{ display: 'flex', padding: '5px', flexDirection: 'column', width: '100%', placeItems: 'center' }}><CircularProgress />Đang xóa</div>\r\n                        :\r\n                        <>\r\n                            <div className={classes.body}>\r\n                                <div className={classes.post__bottom}>\r\n                                    <p>{post.message}</p>\r\n                                </div>\r\n\r\n                                <div className={classes.post__image} >\r\n                                    {post.selectedFile && <ContentImage />}\r\n                                    {lengthImage > 1 &&\r\n                                        <>\r\n                                            <div onClick={changePrevImage} className={classes.previousImage}>\r\n\r\n                                                <ArrowBackIosIcon className={classes.icon} />\r\n                                            </div>\r\n                                            <div onClick={changeNextImage} className={classes.nextImage}>\r\n\r\n                                                <ArrowForwardIosIcon className={classes.icon} />\r\n                                            </div>\r\n                                        </>\r\n                                    }\r\n                                </div>\r\n\r\n                                <div className={classes.post__file} style={{ display: 'grid', gridTemplateColumns: '1fr 1fr' }}>\r\n                                    {post.selectedFile && <ContentFile />}\r\n                                </div>\r\n                            </div>\r\n                            <div className={classes.post__options}>\r\n\r\n\r\n                                {isUpdate ? <div className={classes.post__option}><CircularProgress /></div>\r\n                                    :\r\n                                    <>\r\n                                        <div className={classes.post__option} onClick={handleLikePost}>\r\n                                            <HaveLike />\r\n                                            <p style={{ marginLeft: '10px' }}>{post.likes.length} Thích</p>\r\n                                        </div>\r\n                                    </>\r\n                                }\r\n\r\n                                <div className={classes.post__option} onClick={handleShowComment}>\r\n                                    <ChatBubbleOutlineOutlinedIcon />\r\n                                    <p style={{ marginLeft: '10px' }}>Bình luận</p>\r\n                                </div>\r\n                                <div className={classes.post__option}>\r\n                                    <ShareOutlinedIcon />\r\n                                    <p style={{ marginLeft: '10px' }}>Chia sẻ</p>\r\n                                </div>\r\n                            </div>\r\n                            {isFake &&\r\n                                <div style={{ display: 'flex', padding: '5px', flexDirection: 'column', width: '100%', placeItems: 'center' }}><CircularProgress /></div>\r\n                            }\r\n                            {isComment &&\r\n                                <div className={classes.comments}>\r\n                                    <Comment isComment={isComment} post={post} setIsLoadingComment={setIsLoadingComment} opened={opened} isLoadingComment={isLoadingComment} socket={socket} handleDelete={handleDelete} />\r\n                                </div>\r\n                            }\r\n\r\n                        </>\r\n                }\r\n\r\n            </Paper>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Post","import { makeStyles } from '@material-ui/core/styles'\r\n\r\nexport default makeStyles((theme) => ({\r\n    createPost: {\r\n        padding: '5px',\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        width: '100%'\r\n    },\r\n    header__createPost: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        borderBottom: '1px solid #eff2f5',\r\n        padding: '5px',\r\n        alignItems: 'center'\r\n    },\r\n    form___createPost: {\r\n        flex: '1',\r\n        display: 'flex',\r\n\r\n    },\r\n    input__createPost: {\r\n        outlineWidth: '0',\r\n        border: 'none',\r\n        padding: '10px 20px',\r\n        margin: '0 10px',\r\n        borderRadius: '999px',\r\n        backgroundColor: '#eff2f5',\r\n        flex: '1',\r\n        fontSize: '1.05rem'\r\n    },\r\n    options__createPost: {\r\n        display: 'flex',\r\n        justifyContent: 'space-evenly',\r\n    },\r\n    option: {\r\n        padding: '5px',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        flex: '0.33',\r\n        color: 'gray',\r\n        cursor: 'pointer',\r\n        '&:hover': {\r\n            backgroundColor: '#eff2f5',\r\n            borderRadius: '20px'\r\n        }\r\n    },\r\n    modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        borderRadius: '10px',\r\n        boxShadow: theme.shadows[5],\r\n        \r\n    },\r\n}))","import {makeStyles } from '@material-ui/core/styles'\r\n\r\nexport default makeStyles(theme => ({\r\n    form: {\r\n        padding: '5px',\r\n        display: 'flex', \r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        position: 'relative',\r\n    },\r\n    header: {\r\n        maxWidth: '100%',\r\n        fontSize: 'medium',\r\n        fontWeight: 'bold',\r\n        padding: '5px 0',\r\n        textAlign: 'center',\r\n        borderBottom: '1px solid gray',\r\n        display: 'block',\r\n    },\r\n    body: {\r\n        padding: '5px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        \r\n    },\r\n    top: {\r\n        display: 'flex',\r\n        flexDirection: 'flex-start',\r\n        padding: '5px 0'\r\n    }, \r\n    avatar: {\r\n        marginRight: '5px',\r\n        \r\n    }, \r\n    info: {\r\n\r\n    }, \r\n    detail: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        \r\n    },\r\n    input_text: {\r\n        padding: '10px',\r\n        fontSize: '1.05rem',\r\n        \r\n        border: 'none',\r\n        backgroundColor: 'whitesmoke',\r\n        resize: 'none',\r\n        outline: 'none',\r\n    },\r\n\r\n    image: {\r\n        display: 'flex', \r\n        flexDirection: 'column',\r\n        \r\n    }, \r\n    submit: {\r\n      \r\n        margin: '5px'\r\n    },\r\n    prevImage: {\r\n        position: 'relative',\r\n    },\r\n    closeImage: {\r\n        position: 'absolute',\r\n        fontSize: 'large',\r\n        color: 'blue',\r\n        backgroundColor: 'white',\r\n        right: '10px',\r\n        top: '5px',\r\n        borderRadius: '50%',\r\n        cursor: 'pointer'\r\n    },\r\n    prevFile: {\r\n        backgroundColor: '#ADDCFF',\r\n        position: 'relative', \r\n        padding: '5px 35px 5px 10px',\r\n        borderRadius: '20px',\r\n        margin:'5px 5px 5px 0'\r\n    }, \r\n    closeForm: {\r\n        position: 'absolute',\r\n        padding: '0 5px',\r\n        right: '0px',\r\n        cursor: 'pointer',\r\n    }, \r\n    paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        borderRadius: '10px',\r\n        boxShadow: theme.shadows[5],\r\n        \r\n    },\r\n    filebase: {\r\n        color: 'blue',\r\n    }\r\n    \r\n}))","import React, { useState, useEffect } from 'react'\r\nimport useStyles from './styles'\r\nimport { Avatar, Button, CircularProgress } from \"@material-ui/core\"\r\nimport FileBase from 'react-file-base64'\r\n// import ImageIcon from '@material-ui/icons/Image';\r\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\r\nimport HighlightOffTwoToneIcon from '@material-ui/icons/HighlightOffTwoTone';\r\nimport { useDispatch } from 'react-redux'\r\nimport { createPost } from '../../../../actions/posts'\r\n\r\nconst MAX_SIZE = 1 * 1000;\r\nlet totalSize = 0;\r\n\r\nconst Form = ({ user, setOpen, socket }) => {\r\n\r\n    const [postData, setPostData] = useState({\r\n        message: '',\r\n        creator: user?.result?.email,\r\n        selectedFile: []\r\n    })\r\n    const [isMaxSize, setIsMaxSize] = useState(false)\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const dispatch = useDispatch();\r\n    const classes = useStyles()\r\n\r\n    const handleFile = (files) => setPostData({ ...postData, selectedFile: files })\r\n\r\n    useEffect(() => {\r\n\r\n        postData.selectedFile.forEach(file => {\r\n            if (file.size.split(' ')[1] === 'kB')\r\n                totalSize += Number(file.size.split(' ')[0])\r\n            else\r\n                totalSize += 1024 * Number(file.size.split(' ')[0])\r\n\r\n        })\r\n        if (totalSize > MAX_SIZE)\r\n            setIsMaxSize(true)\r\n        else setIsMaxSize(false)\r\n        totalSize = 0;\r\n    }, [postData.selectedFile])\r\n\r\n    const handleCloseImage = (nameFile) => {\r\n        const files = postData.selectedFile.filter(file => file.name !== nameFile)\r\n        setPostData({ ...postData, selectedFile: files })\r\n\r\n    }\r\n\r\n    // const PrevImage = () => {\r\n    //     return (\r\n    //         postData.selectedFile.map(file => {\r\n    //             if (file.type.includes(\"image\")) {\r\n    //                 return <div key={file.name} className={classes.prevImage}>\r\n    //                     <img src={file.base64} style={{ height: '100px', marginRight: '5px', objectFit: 'contain' }} alt='' />\r\n    //                     <HighlightOffTwoToneIcon className={classes.closeImage} onClick={() => handleCloseImage(file.name)} />\r\n    //                 </div>\r\n    //             }\r\n    //         })\r\n    //     )\r\n    // }\r\n    // const PrevFile = () => {\r\n    //     return (\r\n    //         postData.selectedFile.map(file => {\r\n    //             if (!file.type.includes(\"image\")) {\r\n    //                 return <div key={file.name} className={classes.prevFile}>\r\n\r\n    //                     {file.name}\r\n    //                     <HighlightOffTwoToneIcon className={classes.closeImage} onClick={() => handleCloseImage(file.name)} />\r\n    //                 </div>\r\n    //             }\r\n    //         })\r\n    //     )\r\n    // }\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n        console.log(postData)\r\n        // console.log(Content());\r\n        try {\r\n            setIsLoading(true)\r\n            const res = await dispatch(createPost(postData))\r\n            setOpen(false)\r\n\r\n            setIsLoading(false)\r\n            const postId = res?._id;\r\n            socket.emit('newPost', { postId }, () => {\r\n\r\n            })\r\n\r\n\r\n        } catch (error) {\r\n            setOpen(false)\r\n            setIsLoading(false)\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            {\r\n                isLoading\r\n                    ? <div style={{ display: 'flex', placeItems: 'center' }}><CircularProgress /></div>\r\n                    :\r\n                    <div className={classes.paper}>\r\n                        <form autoComplete=\"off\" noValidate className={classes.form} onSubmit={handleSubmit}>\r\n                            <div className={classes.header}>\r\n                                Tạo bài viết\r\n                            </div>\r\n                            <div className={classes.body}>\r\n                                <div className={classes.top}>\r\n                                    <Avatar className={classes.avatar}>{user?.result?.email[0]}</Avatar>\r\n                                    <div className={classes.info}>\r\n                                        <div style={{ fontWeight: 'bold' }}>{user?.result?.email}</div>\r\n                                        <div className={classes.detail}>\r\n                                            <SupervisorAccountIcon style={{ fontSize: 'medium' }} />\r\n                                            <div style={{ marginLeft: '5px', fontSize: '0.9rem', color: 'gray' }}>Bạn bè</div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className={classes.main}>\r\n                                    <textarea\r\n                                        onChange={(e) => setPostData({ ...postData, message: e.target.value })}\r\n                                        value={postData.message}\r\n                                        autoFocus\r\n                                        name=\"message\"\r\n                                        rows=\"4\"\r\n                                        cols=\"50\"\r\n                                        className={classes.input_text}\r\n                                        placeholder=\"Bạn đang nghĩ gì thế?\"\r\n                                    />\r\n\r\n                                    <div className={classes.image} >\r\n                                        <div style={{ display: 'flex', overflow: 'auto', width: '485px' }}>\r\n                                            {/* <PrevImage /> */}\r\n                                            {\r\n                                                postData.selectedFile.map(file => {\r\n                                                    if (file.type.includes(\"image\")) {\r\n                                                        return <div key={file.name} className={classes.prevImage}>\r\n                                                            <img src={file.base64} style={{ height: '100px', marginRight: '5px', objectFit: 'contain' }} alt='' />\r\n                                                            <HighlightOffTwoToneIcon className={classes.closeImage} onClick={() => handleCloseImage(file.name)} />\r\n                                                        </div>\r\n                                                    }else return null;\r\n                                                })\r\n                                            }\r\n                                        </div>\r\n                                        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', width: '485px' }}>\r\n                                            {/* <PrevFile />     */}\r\n                                            {\r\n                                                postData.selectedFile.map(file => {\r\n                                                    if (!file.type.includes(\"image\")) {\r\n                                                        return <div key={file.name} className={classes.prevFile}>\r\n                                                            {file.name}\r\n                                                            <HighlightOffTwoToneIcon className={classes.closeImage} onClick={() => handleCloseImage(file.name)} />\r\n                                                        </div>\r\n                                                    }else return null;\r\n                                                })\r\n                                            }\r\n                                        </div>\r\n                                        {\r\n                                            !postData.selectedFile.length &&\r\n                                            <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                                                <div style={{ fontSize: 'medium' }}>Thêm tệp</div>\r\n                                                <FileBase\r\n                                                    className={classes.filebase}\r\n                                                    name=\"selectedFile\"\r\n                                                    type=\"file\"\r\n                                                    multiple={true}\r\n                                                    onDone={handleFile}\r\n\r\n                                                />\r\n                                            </div>\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            {isMaxSize && <div style={{ color: 'red', fontStyle: 'italic', margin: '5px' }}>Vượt quá kích thước cho phép</div>}\r\n\r\n                            <Button disabled={(postData.message.trim() === '' && postData.selectedFile.length === 0) || isMaxSize} type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit}>\r\n                                Đăng\r\n                            </Button>\r\n\r\n                            <HighlightOffTwoToneIcon className={classes.closeForm} onClick={() => setOpen(false)} />\r\n\r\n                        </form>\r\n                    </div>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Form","import { Avatar, Paper } from '@material-ui/core'\r\nimport React, { useState } from 'react'\r\nimport useStyles from './styles'\r\nimport VideocamIcon from '@material-ui/icons/Videocam';\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport EmojiEmotionsOutlinedIcon from '@material-ui/icons/EmojiEmotionsOutlined';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport Form from './Form/Form'\r\n\r\nconst CreatePost = ({ user, socket }) => {\r\n    const [open, setOpen] = useState(false);\r\n\r\n\r\n    const classes = useStyles()\r\n\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <Paper className={classes.createPost}>\r\n\r\n            <div className={classes.header__createPost}>\r\n                <Avatar>{user?.result?.email[0]}</Avatar>\r\n                <form className={classes.form___createPost}>\r\n                    <input\r\n                        readOnly\r\n                        onClick={handleOpen}\r\n                        className={classes.input__createPost}\r\n                        type=\"text\" placeholder=\"Bạn đang nghĩ gì?\"\r\n                    />\r\n                </form>\r\n            </div>\r\n            <div className={classes.options__createPost}>\r\n                <div className={classes.option}>\r\n                    <VideocamIcon style={{ color: 'red' }} />\r\n                    <h3 style={{ fontSize: 'medium', marginLeft: '10px' }}>Video trực tiếp</h3>\r\n                </div>\r\n                <div className={classes.option}>\r\n                    <ImageIcon style={{ color: 'green' }} />\r\n                    <h3 style={{ fontSize: 'medium', marginLeft: '10px' }}>Ảnh/Video</h3>\r\n                </div>\r\n                <div className={classes.option}>\r\n                    <EmojiEmotionsOutlinedIcon style={{ color: 'orange' }} />\r\n                    <h3 style={{ fontSize: 'medium', marginLeft: '10px' }}>Cảm xúc/Hoạt động</h3>\r\n                </div>\r\n\r\n            </div>\r\n            {\r\n                open &&\r\n                <Modal\r\n                    aria-labelledby=\"transition-modal-title\"\r\n                    aria-describedby=\"transition-modal-description\"\r\n                    className={classes.modal}\r\n                    open={open}\r\n\r\n                    closeAfterTransition\r\n                    BackdropComponent={Backdrop}\r\n                    BackdropProps={{\r\n                        timeout: 500,\r\n                    }}\r\n                >\r\n                    <Fade in={open}>\r\n                        <Form user={user} setOpen={setOpen} socket={socket} />\r\n                    </Fade>\r\n                </Modal>\r\n            }\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default CreatePost\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n}));","import React, { useEffect } from 'react';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport useStyles from './styles';\r\nimport { NEW_POST, CREATE } from '../../constants/actionTypes';\r\n\r\nconst CustomizedSnackbar = ({ socket }) => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch()\r\n    const { newPost } = useSelector(state => state.posts)\r\n\r\n    useEffect(() => {\r\n        if (socket) {\r\n            socket.on('notification', ({ error, post }) => {\r\n                if (error) {\r\n                    alert(error)\r\n                }\r\n                if (post) {\r\n                    console.log(post);\r\n                    dispatch({ type: NEW_POST, payload: { is: true, postId: post?._id, postEmail: post?.creator } })\r\n                    dispatch({ type: CREATE, payload: post })\r\n                }\r\n            })\r\n        }\r\n        return () => {\r\n            if(socket) socket.off('notification')\r\n        }\r\n    }, [])\r\n\r\n\r\n    const handleClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        dispatch({ type: NEW_POST, payload: { is: false, postId: null } })\r\n\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Snackbar\r\n                anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                open={newPost.is} autoHideDuration={6000} onClose={handleClose}>\r\n                <MuiAlert onClose={handleClose} severity=\"success\" elevation={6} variant=\"filled\">{newPost.postEmail && `${newPost?.postEmail} có bài đăng mới`}</MuiAlert>\r\n            </Snackbar>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CustomizedSnackbar;","import { makeStyles } from \"@material-ui/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n    appBar: {\r\n        display: 'flex',\r\n        borderRadius: 15,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        flexDirection: 'row'\r\n    }, \r\n    heading: {\r\n        color: 'rgba(0, 183, 255,1)',\r\n    },\r\n}))","import React from 'react'\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\r\nimport { AppBar, Container, Typography } from '@material-ui/core'\r\nimport Auth from './components/Auth/Auth'\r\nimport Posts from './components/Posts/Posts'\r\nimport useStyles from './styles';\r\nconst App = () => {\r\n    \r\n\r\n    const classes = useStyles();\r\n    return (\r\n        <BrowserRouter>\r\n            <Container maxWidth=\"lg\">\r\n                <AppBar className={classes.appBar} position=\"static\" color=\"inherit\">\r\n                    <Typography variant=\"h2\" align=\"center\">Bài đăng</Typography>\r\n                </AppBar>\r\n                <Switch>\r\n                    <Route path='/' exact component={Posts} />\r\n                    <Route path='/auth' exact component={Auth} />\r\n                </Switch>\r\n            </Container>\r\n        </BrowserRouter>\r\n    )\r\n}\r\nexport default App;\r\n","import {AUTH, LOGOUT, START_LOADING, END_LOADING } from '../constants/actionTypes'\r\n\r\nconst auth =  (state = {authData: null, isLoading: true}, action) => {\r\n    switch (action.type) {\r\n        case START_LOADING: \r\n            return {...state, isLoading: true}\r\n        case END_LOADING: \r\n            return {...state, isLoading: false}\r\n        case AUTH:\r\n            localStorage.setItem('profile', JSON.stringify({...action?.data}))\r\n\r\n            return {...state, authData: null};\r\n        case LOGOUT: \r\n            localStorage.clear();\r\n            \r\n            return {...state, authData: null};\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\nexport default auth","import {NEW_POST, START_LOADING, END_LOADING, COMMENT, FETCH_ALL, CREATE, DELETE, UPDATE } from '../constants/actionTypes'\r\n\r\nconst posts = (state = {newPost: {}, isLoading: false, posts: []}, action) => {\r\n    switch (action.type) {\r\n        case START_LOADING: \r\n            return {...state, isLoading: true}\r\n        case END_LOADING: \r\n            return {...state, isLoading: false}\r\n        case NEW_POST: \r\n            return {...state, newPost: action.payload}\r\n        case FETCH_ALL:\r\n            return {...state, posts: action.payload};\r\n        case CREATE:\r\n            state.posts.unshift(action.payload) \r\n            return {...state};\r\n        case COMMENT:\r\n            return {...state, posts: state.posts.map(post => post._id === action.payload._id ? action.payload : post)};\r\n        case UPDATE:\r\n            return {...state, posts: state.posts.map(post => post._id === action.payload._id ? action.payload : post)};\r\n        case DELETE:\r\n            return {...state, posts: state.posts.filter(post => post._id !== action.payload)};\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default posts","import { combineReducers } from \"redux\";\r\nimport auth from './auth'\r\nimport posts from './posts'\r\nexport default combineReducers({\r\n    auth, posts\r\n})","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport { createStore, applyMiddleware, compose } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport App from './App'\r\n\r\nimport reducers from './reducers'\r\n\r\nconst store = createStore(reducers, compose(applyMiddleware(thunk)))\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById('root')\r\n)"],"sourceRoot":""}